<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>/dev/isra/blog/* - Blog</title><link href="//iffm.me/" rel="alternate"></link><link href="//127.0.0.1:8000/feeds/blog.atom.xml" rel="self"></link><id>//iffm.me/</id><updated>2022-04-15T00:00:00+04:00</updated><entry><title>Working with FileFields on the fly in django</title><link href="//iffm.me/working-with-filefields-on-the-fly-in-django.html" rel="alternate"></link><published>2022-04-15T00:00:00+04:00</published><updated>2022-04-15T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2022-04-15:/working-with-filefields-on-the-fly-in-django.html</id><summary type="html">&lt;p&gt;This took me a couple of hours to figure out. I needed to process a csv file
stored in a &lt;code&gt;FileField&lt;/code&gt;, the catch was I had to do it on the fly, before saving
the model to the database. Not only that, I also had to generate another file
by …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This took me a couple of hours to figure out. I needed to process a csv file
stored in a &lt;code&gt;FileField&lt;/code&gt;, the catch was I had to do it on the fly, before saving
the model to the database. Not only that, I also had to generate another file
by applying certain rules to the content of the original file. Let's use the
following model as an example, hopefully this will save you some time when you
need to implement something similar:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.db&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;TwoFiles&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Model&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;original&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FileField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;upload_to&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;files&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;treated&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FileField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;upload_to&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;files&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;save&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_generate_treated_file&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;_generate_treated_file&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;We will focus on the &lt;code&gt;_generate_trated_file()&lt;/code&gt; method.&lt;/p&gt;
&lt;p&gt;At this point, we haven't saved anything so there's no physical file to read
everything is in-memory and &lt;code&gt;models.FileField()&lt;/code&gt; has the necessary methods to
read the contents, in this case we will read the whole file into memory for the
sake of simplicity, but it has methods to read line by line as well.&lt;/p&gt;
&lt;p&gt;The code to read the file and generate the treated one would look something like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;csv&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;io&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.core.files.uploadedfile&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;SimpleUploadedFile&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.db&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;TwoFiles&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Model&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;original&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FileField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;upload_to&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;files&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;treated&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;FileField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;upload_to&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;files&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;save&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_generate_treated_file&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;_generate_treated_file&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;original&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;seek&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;original&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

        &lt;span class="n"&gt;lines&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;reader&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;csv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lines&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;buffer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;io&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;StringIO&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;writer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;csv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;writer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;new_line&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;apply_teatment&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;writer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;writerow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;new_line&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;treated&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SimpleUploadedFile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
            &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;treated_file.csv&amp;#39;&lt;/span&gt;
            &lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getvalue&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;First, we rewind the file so that we are sure we start reading from the beginning,
then, the &lt;code&gt;.read()&lt;/code&gt; call on the &lt;code&gt;file&lt;/code&gt; reference will return a &lt;code&gt;io.StringIO()&lt;/code&gt;
object, which we need to decode and then strip to remove all the additional spaces
or &lt;code&gt;\n&lt;/code&gt;s.  &lt;/p&gt;
&lt;p&gt;After we split the lines we need some place to write to, we won't have a physical
file because we haven't saved the model so we need to write in-memory, hence, we
create a &lt;code&gt;io.StringIO()&lt;/code&gt; buffer to write all the treated lines.&lt;/p&gt;
&lt;p&gt;We iterate the lines, apply the treatment and write to the buffer. When we are done,
we dump everything into a &lt;code&gt;SimpleUploadedFile()&lt;/code&gt;, &lt;code&gt;utf-8&lt;/code&gt;-encode it and assign it
to the &lt;code&gt;treated&lt;/code&gt; &lt;code&gt;FileField()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Then, when the &lt;code&gt;save()&lt;/code&gt; method finishes running, the model instance will be
saved to the DB and both files created in the filesystem.&lt;/p&gt;
&lt;p&gt;This took me a couple of hours to figure out, hopefully I saved you some time,
thanks for reading and don't forget to &lt;a href="https://twitter.com/iferminm"&gt;follow me on twitter&lt;/a&gt;.&lt;/p&gt;</content><category term="Blog"></category><category term="python"></category><category term="django"></category><category term="web development"></category></entry><entry><title>Why I am considering getting into management</title><link href="//iffm.me/why-i-am-considering-getting-into-management.html" rel="alternate"></link><published>2022-03-16T00:00:00+04:00</published><updated>2022-03-16T00:00:00+04:00</updated><author><name>Israel Fermin Montilla</name></author><id>tag:iffm.me,2022-03-16:/why-i-am-considering-getting-into-management.html</id><summary type="html">&lt;p&gt;I've reached a point in my career in which I'm questioning a lot of things about
being a Software Engineer, don't misunderstand me, I love being a Software
Engineer and getting my hands dirty writing code, implementing things, designing
systems and discussing architectural trade-offs with other Engineers, the mix of …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've reached a point in my career in which I'm questioning a lot of things about
being a Software Engineer, don't misunderstand me, I love being a Software
Engineer and getting my hands dirty writing code, implementing things, designing
systems and discussing architectural trade-offs with other Engineers, the mix of
art and science in what we do is amazing, but I'm afraid growth paths as an
Individual Contributor (IC) are more complicated and less documented than the ones
for People Managers (PM).&lt;/p&gt;
&lt;p&gt;As an C, it seems like your growth will depend on the
impression others have about your individual work, those others are usually
PMs, as a PM, your growth depends on the performance
of your team and the ability to achieve those quarterly goals.&lt;/p&gt;
&lt;p&gt;Here are a few things I think are a bit odd when it comes to growing as an IC.&lt;/p&gt;
&lt;h2&gt;Product &amp;gt; Engineering&lt;/h2&gt;
&lt;p&gt;It might seem strange because in some companies the organization in charge of
building and maintaining the user-facing systems it's called &lt;em&gt;Product Engineering&lt;/em&gt;,
but quite often &lt;em&gt;Engineering&lt;/em&gt; is a sidecar of &lt;em&gt;Product&lt;/em&gt; which is supposed to
&lt;strong&gt;only&lt;/strong&gt; support &lt;em&gt;Product&lt;/em&gt;, with that in mind, all of the &lt;em&gt;Product&lt;/em&gt;-related goals
are to be supported by &lt;em&gt;Engineering&lt;/em&gt; efforts: building new features, enabling
experiments, investigating/fixing bugs and other types of issues, you name it.&lt;/p&gt;
&lt;p&gt;Engineering is a feature factory for &lt;em&gt;Product&lt;/em&gt; to a point that in some organizations,
Product Managers even estimate Engineering effort and commits time and deadlines
to Senior Management on behalf of Engineering teams.&lt;/p&gt;
&lt;p&gt;This also translates on how everyone is rewarded, if you build new features, you
get recognized and attention, if you reduce the latency on an endpoint by 20%
by optimizing the database calls and indexing a few columns, you get a pat on the
back.&lt;/p&gt;
&lt;p&gt;This also has a huge influence in the accumulation of technical debt, which is
one of the main elements of frustration for Software Engineers.&lt;/p&gt;
&lt;h2&gt;IC goals are subjective&lt;/h2&gt;
&lt;p&gt;Quite often, your growth is linked to your day-to-day job plus a set of goals
set with your manager. These goals could be improve some system's reliability,
become better at some skill or learning some technology and implement a poof of
concept. But, how do you measure success on those goals? how do you measure a
skill? are you going to apply a test?, what if throughout the performance cycle
there's no project where a new technology can be used? what if throughout the 
performance cycle I don't get to work on the system I had to improve reliability
on? What if I got to work on it but the reliability was improved as a byproduct
of another project done by another engineer?.&lt;/p&gt;
&lt;p&gt;Management goals are related to the team's performance, improving some business
metric, improving talent retention. All your team knows they have to perform well
because part of their growth depends on it, so, as long as you're gentle and have
a little common sense treating people fairly, half of the work is done for you.&lt;/p&gt;
&lt;h2&gt;It's OK to be wasteful&lt;/h2&gt;
&lt;p&gt;When an Engineer is leading a construction, they calculate how much material is
going to be needed and how much debris will be left to be managed and disposed
and they purchase based on that. Any miscalculation is not good, they try to
optimize resources to the minimum, the same happens with everything else outside
software. Chefs optimize ingredients in their recipes and try to reuse as much 
as possible to reduce waste, tailors also optimize the use of the fabric.&lt;/p&gt;
&lt;p&gt;Software Engineers on the other hand, well, we design and implement something
and never look back. It's consuming too much memory, let's throw some more RAM
into the servers and that's it. CPU is spiking, let's buy instances with more
computing power. Servers can't handle the load, throw more servers in. We just
throw resources at the problem without thinking whether our system design and
and implementation can be better, without revisiting for improvements. This is 
also aligned with the previous item, because Engineering takes the back seat while
product drives the car, Engineering pains are postponed until they're hurting
really bad, and even then the solutions are rushed!. "Will it take more than 
1 sprint?, we can't afford to delay features X, Y and Z"&lt;/p&gt;
&lt;p&gt;The main reason I've heard is that "Engineering time is more expensive than
machine time", but then, machines won't solve scalability issues caused by lack
of design and rushed implementation, you're just paying interest on that loan
given in "machine time".&lt;/p&gt;
&lt;h2&gt;Hiring ICs is broken&lt;/h2&gt;
&lt;p&gt;Yes, if you need/want to switch jobs, your options are limited to the companies
working with technologies you have experience with. It doesn't matter how quick
you can pick things up and learn new languages or technologies, if you have no
experience some companies won't even consider you.&lt;/p&gt;
&lt;p&gt;Just an example, in my current role at Careem I've worked with Java, maintaining
services built with Springboot, Groovy, Bash, Terraform, CloudFormation, Python
and Jenkins, building a CICD platform, Nodejs, Typescript and Expressjs building
and maintaining services for another business vertical and PHP, Go, Elasticsearch
and Kafka, building a search platform for the Food and Shops business verticals.
Prior to Careem, I worked about 6 years in Python and Django, I had zero experience
with any of the technologies I've worked with at Careem, where the main language
is Java, if the interview process was focused only on Java and JVM tuning, they
wouldn't have hired me. All of the technologies I had to learn them on the job.
Asking other Engineers, reading documentation, reading a book, doing an online
course and getting my hands dirty doing toy projects to learn.&lt;/p&gt;
&lt;p&gt;Then, there's the coding interview. Complex algorithms and data structures
questions I've only seen in programming competitions, infinite space search, 
optimal routes finding, graphs or 3D matrices traversing. Things I was once quite
good at because I was really into it, when I was in Uni, but now, it would take
me some time to dust off that knowledge. If I find one of those problems in my
day-to-day work, I know I'd be able to figure it out with some thought and research,
but in interviews you're often asked to solve 3 to 4 problems in a 90min time.&lt;/p&gt;
&lt;p&gt;Systems design interviews are fine, you must be able to architect a system and
think of the components you'll need to built in order to have an optimal behavior.
But coding interviews feels like fighting Godzilla with a screwdriver while the
day-to-day work is actually playing UNO with Barney and his friends.&lt;/p&gt;
&lt;h2&gt;Management skills are transferable&lt;/h2&gt;
&lt;p&gt;Engineering skills are not, well, they're partially transferable. Good engineering
practices, Architecture and Systems Design can be applied at any company you land at.
Unfortunately the skills with the specific technical stack can't be taken from
one place to another if the technologies are different. A lot of companies will
hire "Experienced Java Developers" and just cut the interview cold or just
don't take your profile into consideration if you don't have 5+ years of Java
programming experience.&lt;/p&gt;
&lt;p&gt;Now, let's talk about the coding interview, the skills to pass a coding interview
are not maintained by your day-to-day job, you won't work with graphs or puzzle-like
problems every day, every time you're going for a technical interview you must spend
a few weeks preparing, some people solve 400+ problems in leetcode in order to
be prepared for the coding interview.&lt;/p&gt;
&lt;p&gt;Management skills are practiced every day at work. Looking at metrics, dealing with
people, negotiating deadlines, planning a roadmap strategically, evaluating
trade-offs, mediating conflicts, even experimenting with team topology and different
methodologies. All these skills are valuable at the time of the interview and also
at the new company you land at.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Well... switching to management is not a decision I've made already, it's just
something I'm considering, for all the reasons I listed above. I love getting my
hands dirty with technology, designing and implementing a system and watching it
work and serve millions of requests per minute. I enjoy working on refactors and
tuning systems for better behavior, but the manager path seems to be much more
straightforward than the IC path. The one thing I'm not so comfortable with is
having so much impact on other people's career and life in general and, in crisis
times, manager heads are the first to roll but, again, then landing in another
job doesn't require solving 400 leetcode questions and pray you get some similar
problems in the coding interview.&lt;/p&gt;
&lt;p&gt;What do you think? have you ever thought the same?&lt;/p&gt;</content><category term="Blog"></category><category term="career"></category><category term="personal"></category></entry><entry><title>7 tips to be a more productive engineer</title><link href="//iffm.me/7-tips-to-be-a-more-productive-engineer.html" rel="alternate"></link><published>2021-10-05T00:00:00+04:00</published><updated>2021-10-05T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2021-10-05:/7-tips-to-be-a-more-productive-engineer.html</id><summary type="html">&lt;p&gt;As Software Engineers, we are not measured by how much we know about computer
science, data structures and algorithms, at least not after we pass the interview.
At the job the story is completely different, we can be the best programmers in
the company, we can know our way around …&lt;/p&gt;</summary><content type="html">&lt;p&gt;As Software Engineers, we are not measured by how much we know about computer
science, data structures and algorithms, at least not after we pass the interview.
At the job the story is completely different, we can be the best programmers in
the company, we can know our way around the languages we work on and write code
with the eyes closed but, none of that matters if we produce no value. Our value
comes in many forms, code and working, scalable and robust software is one of those
ways, but we can't forget we are part of an engineering team and also keep in mind
that &lt;a href="https://iffm.me/software-engineering.html"&gt;Software Engineering is more than writing code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Most of our value comes in the form of working software, performance and resources
optimizations, architecture and software design RFCs and so on, these tasks
require a high level of concentration which means our ability to produce high
value work is constrained by the amount of continuous uninterrupted time we have.
Along with that, we also produce value in meetings, by aligning priorities and
work with other engineering teams and also within our team when we work with other
engineers, by reviewing code and other forms of collaborative work.&lt;/p&gt;
&lt;p&gt;Ideally, we need to maximize the amount of high impact work we do as engineers,
this usually has to do with the tasks that require a higher level of focus, but
we can't neglect the other kinds of work we need to do as well. To 
do this, we need to maximize the amount of uninterrupted time we have during our
working hours.&lt;/p&gt;
&lt;p&gt;Here are seven practices that have worked for me, hopefully they will work for 
you too. Let's get it on:&lt;/p&gt;
&lt;h2&gt;Have a daily prioritized list&lt;/h2&gt;
&lt;p&gt;This looks like a no-brainer, right? and yet, a lot of people seems to fail in
using them. I love lists, I make lists for almost everything: my daily work, 
my personal projects, what I need when I go to the supermarket...&lt;/p&gt;
&lt;p&gt;I keep a daily TODO list and I manage priorities with colors:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Red:&lt;/strong&gt; for high impact or urgent work, things that need to be done ASAP or
things that, when done, will have a high impact on the projects I'm maintaining&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Yellow:&lt;/strong&gt; for things that will have impact, but not as much and can wait a bit
to get some attention, for example, looking into an error that pops out from time
to time in the logs or reading about some technology I will need to use some time
in the future. It's good to tackle them before they become red.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Blue:&lt;/strong&gt; for things with low to no impact but would be fun or nice to do.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I usually mark in &lt;strong&gt;bold&lt;/strong&gt; the ones that require deep focus to be done, these 
visual conventions help me navigate my list easier than &lt;em&gt;P1&lt;/em&gt;, &lt;em&gt;P0&lt;/em&gt; and &lt;em&gt;P2&lt;/em&gt; or
a numeric approach to set priorities.&lt;/p&gt;
&lt;p&gt;I don't finish my TODO list every day, to be honest, there are always a lot of
things to tackle and it's impossible to get everything done in one day, plus,
every day something new comes up, someone has a new request, someone writes a new
RFC I need to read and comment, so, I keep adding tasks to the list as they come
up and prioritize them later unless they're explicitly urgent. Whatever I can't
finish today gets spilled for &lt;em&gt;tomorrow's&lt;/em&gt; list.&lt;/p&gt;
&lt;p&gt;I also do my lists in advance, I prepare &lt;em&gt;tomorrow's&lt;/em&gt; list &lt;em&gt;today&lt;/em&gt; by end of day,
that way I don't have to do it &lt;em&gt;tomorrow&lt;/em&gt; and I can just review it, and get to
it after I have my coffee in the morning.&lt;/p&gt;
&lt;p&gt;Of course, you'll need to keep your lists somewhere, for this, really, whatever
floats your boat, some people use &lt;a href="https://www.notion.so/"&gt;Notion&lt;/a&gt;, some others
prefer &lt;a href="https://evernote.com/"&gt;Evernote&lt;/a&gt;, &lt;a href="https://keep.google.com"&gt;Google Keep&lt;/a&gt;
also seems to be a very popular option. At &lt;a href="https://careem.com/careers"&gt;Careem&lt;/a&gt;
we use &lt;a href="https://www.atlassian.com/software/confluence"&gt;Confluence&lt;/a&gt;
internally as a knowledge base solution for all things documentation, the thing
I like about &lt;a href="https://www.atlassian.com/software/confluence"&gt;Confluence&lt;/a&gt; is that
it gives every user a &lt;em&gt;personal&lt;/em&gt; space, I keep my daily TODO in my personal
space as private notes for myself, it's very convenient because I don't have to
have yet another tool, it's work and it's protected by all the security measures
we have at &lt;a href="https://careem.com/careers"&gt;Careem&lt;/a&gt; and I'm usually logged in.&lt;/p&gt;
&lt;p&gt;This system helps me keep focused and by creating a new page every day, I can
look back and keep track of everything I've worked on and when while also making
sure I focus only on unfinished tasks and remove the noise of finished tasks from
my view.&lt;/p&gt;
&lt;h2&gt;Be intentional with your time&lt;/h2&gt;
&lt;p&gt;Have you ever wondered how it is possible to deliver so much stuff at school or
uni and why we're not able to deliver as much at work?, the answer is, we had a
routine, more or less. We knew every day we were going to have Calculus I
from 10:00 to 12:30, then Algorithms II from 13:00 to 14:30, then 3 hours free,
then back to classes from 18:00 to 19:45, it was predictable, we would use those
3 hours to study, work on a project, have lunch, socialize or a combination of
those, every day was planned and we could schedule in advance what to do. At work
it's a bit more difficult, we have 8 hours of semi-random activities. When I
realized this, I thought it makes sense to give some order to that chaos and
make a routine for myself so that I could use my time in a more predictable manner.&lt;/p&gt;
&lt;p&gt;One book that changed the way I think and reason about time is &lt;a href="https://www.goodreads.com/book/show/31287110-master-your-time-master-your-life"&gt;Master your time
master your life&lt;/a&gt;
by productivity coach &lt;a href="https://www.goodreads.com/author/show/22033.Brian_Tracy"&gt;Brian Tracy&lt;/a&gt;.
In this book, Tracy mentions that there are multiple types of time in life and
one needs to be able to identify what kind of time you have at the moment
to know how you should use it as well as what kind of time a task requires in 
order to know when to do it.&lt;/p&gt;
&lt;p&gt;At &lt;a href="https://careem.com/careers"&gt;Careem&lt;/a&gt; we have what we call &lt;em&gt;focus time&lt;/em&gt;, which
are blocks where no group meetings are allowed, only pairing for problem-solving
or making progress on a task, we also have a no-meetings day, so, I schedule
all my high-focus work at those times. Before we had these policies, I used to
schedule 2 hours every day where I didn't accept any meetings or interruptions,
muted all notifications and just focused on that type of tasks, whether it was
writing code, working on some architecture or designing a solution to implement
it later, I just focused on that during the time I blocked for this high focus
work.&lt;/p&gt;
&lt;p&gt;Now, I do all my collaborative work on the rest of the time I have, we usually
have some time in-between meetings so I use that to read RFCs, review code and
sometimes socialize.&lt;/p&gt;
&lt;p&gt;If you're taking nothing else from this blog post, take only this point, &lt;strong&gt;Be
Intentional with your time&lt;/strong&gt;, time is too limited and too precious to use it
in a random way, &lt;strong&gt;be intentional&lt;/strong&gt;.&lt;/p&gt;
&lt;h2&gt;Be defensive with time&lt;/h2&gt;
&lt;p&gt;Do you often find yourself attending more meetings than you feel you should?, or
stuck in a meeting having no idea why you're there?. Learning to say &lt;em&gt;no&lt;/em&gt; is a
skill you need to master, I had some hard time mastering this skill for many
reasons, our inner nature is to help others, at least mine, I used to say no
very rarely and as a result I was usually swamped with work, meetings and other
commitments. Now, if I find a reason to say &lt;em&gt;no&lt;/em&gt;, I say &lt;em&gt;no&lt;/em&gt;. It's usually for
a reason. I have a limited amount of time every day and I have to use it wisely.&lt;/p&gt;
&lt;p&gt;For meetings, if I have a clashing event, I directly reject the invitation. All
my current commitments take precedence with respect to new requests. If the
meeting doesn't have a clear objective or agenda I ask for it to be added, if
it's not added, and I have no way to know what's expected in the meeting, I let
the organizer know I won't attend. If the meetings are spilling, I call that into
attention and leave if I have other things to do. This might seem rude as attending
meetings is part of the job but so it organizing and running them, if a meeting
has no information about what to expect, it means someone is not doing their job
organizing it. If the meeting is spilling, it means someone is not doing their job
running it effectively.&lt;/p&gt;
&lt;p&gt;Remember, as an IC (Individual Contributor) your time is your most valued resource,
don't give it to everyone.&lt;/p&gt;
&lt;h2&gt;Learn your tools&lt;/h2&gt;
&lt;p&gt;This might seem an obvious one, but It's incredible the number of people I know
who just know the basics of everything they use. I spend most of my time... well...
writing, so, my text editor is where I spend most of my productive time. It doesn't
matter what editor you use, whether it's vim or Emacs, vs-code or an IDE, learn
how to use the advanced features. I use vim for most of the things that has to
do with text: coding, writing docs in markdown, notes, etc. I'm constantly
improving my vim config so that I can write code faster and navigate projects more
efficiently. For larger codebases I'm not very familiar with, I do use an IDE, 
we have an IntelliJ license through Careem, so, that's the IDE I use until I'm
familiar with the project so that I can navigate my way through the code, it's
convenient to learn the key shortcuts.&lt;/p&gt;
&lt;p&gt;The other thing I spend most of my time now is the office chat, we use Slack,
so, it's also worth learning how to use it properly, all the key shortcuts as
well as learning to use the search, it's very powerful and you can find almost
anything you can by using the search box instead of navigating through the chats.&lt;/p&gt;
&lt;p&gt;By becoming a power user of all the things you use, you can then create systems
to help you become more productive, for example, I often mark slack messages
with reactions I can later search for, or set reminders on Slack about something
a colleague said so that I can take action about it. Investing some time in
becoming a power user at work often pays off.&lt;/p&gt;
&lt;h2&gt;Take breaks&lt;/h2&gt;
&lt;p&gt;This might seem counterintuitive but taking breaks makes you more productive just
because you give your brain some chance to breath, what does this mean?. Have you
ever been working on a feature, debugging an issue and felt blocked? like, you
don't know what to do, what else to try or that the next step should be?, this is
usually because you're locked inside the problem you're trying to solve, think of
it as a box, it's very difficult to find something when you're inside the box, it's
better to take some distance and look at it from a different perspective that lets
you see what you're searching for. It's very difficult to find a failure anywhere
if you're looking at it too closely, you might be looking at the wrong place,
taking some distance and looking at it from afar makes it easier to spot anomalies
and then just zoom-in there again.&lt;/p&gt;
&lt;p&gt;That's exactly what happens when you take a break, you take some distance from
the problem, allowing your brain to look at it from afar, your unconscious mind
will continue working on the problem while you drink a cup of coffee or read
some other material or (if you work from home and have kids) go change some diapers.
Once you come back to the thing you were working on, it will be more clear or,
at least, you'll have some hints on where to go next.&lt;/p&gt;
&lt;p&gt;As I mentioned &lt;a href="https://iffm.me/working-from-home-with-kids.html"&gt;on a previous post&lt;/a&gt;,
I often use the &lt;a href="https://en.wikipedia.org/wiki/Pomodoro_Technique"&gt;pomodoro technique&lt;/a&gt; 
on my day to day work, I set a timer and I commit to work on a task for, 
say, 30-40 minutes, I focus on the task at hand and only on that, when the 
time is finished, I take a 5min break and then come back to the task for another
30-40min block, this way I make taking breaks part of my work routine and avoid
dawning myself in a problem.&lt;/p&gt;
&lt;p&gt;This also applies to taking vacations, at &lt;a href="https://careem.com/careers"&gt;Careem&lt;/a&gt;
we have unlimited vacations policy, this is great because I can take 1 or 2 days off
whenever I feel I'm burnt out and come back refreshed to work. When you're too
tired or burnt out by work, your motivation decreases and your work doesn't come
out as easy or with the same quality, this is also when you consider switching jobs. 
Taking a couple of days off to rest and disconnect from work when a weekend is 
not enough to recover is a wise time investment, for me, after one of those 
hard-deadline, time-sensitive, critical projects I try to take extend the weekend,
at least 1 day, then I come back fresh and ready for another round. I'm not
saying you should abuse these kind of policies, rather use them for your well-being
and mental sanity, take a break when you feel you need it, your body and your
employer will thank you for it.&lt;/p&gt;
&lt;h2&gt;Get the most out of meetings&lt;/h2&gt;
&lt;p&gt;This one might sound odd, if you want to be productive you should actually
avoid meetings, right? as long as I'm sitting on a meeting I'm not doing my
job, hence, I'm not producing value. We can agree on part of the statement for
sure but it's not entirely true, meetings are an essential part of the job, we
work with other fellow humans to tell machines what to do, so meeting with other
people is essential to create alignment and decide on further steps, and make
decisions about the underlying tech we are working on.&lt;/p&gt;
&lt;p&gt;Meetings can't be avoided for sure, we can reduce them as much as we want/need
but some kinds of meetings are just unavoidable and we need to learn to live with
that. Not everything is lost, now that we accepted meetings are part of our life,
we can choose to get the most out of them and make them efficient so that we don't
have to meet too many times to discuss the same topics over and over again.&lt;/p&gt;
&lt;p&gt;This might take a bit of discipline and agreement with your team, but with a few
general practices in your meetings you can make them more efficient:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Start and finish on time, don't wait for late joiners, if you're on-time, you're
late by German standards.&lt;/li&gt;
&lt;li&gt;Have a clear meeting objective and agenda shared previously, this helps everyone
know what will be discussed and prepare accordingly. If you receive a meeting
invitation without an agenda or at least a description, reject it right away&lt;/li&gt;
&lt;li&gt;Keep the conversation on-topic, call out side tracks and bring everyone again
to the main topic&lt;/li&gt;
&lt;li&gt;Take notes and share them, this avoids the back and forth after the meetings and
the traditional questions such as "who was going to do X?", "did we decide A or B?"&lt;/li&gt;
&lt;li&gt;Share pre-reads in advance and, if you receive a pre-read for a meeting, make
sure you read it before joining&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Meetings are a necessary evil, but with discipline you can tame the monster
and make them more effective.&lt;/p&gt;
&lt;h2&gt;Start and stop on time&lt;/h2&gt;
&lt;p&gt;Yes, this is the most important advice. We often see Engineers working until late
evening, it's not about the hours, it's about the quality of the time you put
into everything you do, I'd rather work 20min on something but really focused
than 4 hours but all over the place.&lt;/p&gt;
&lt;p&gt;Work will always be there, it never ends, if you start and stop working on time
you're not doing anything wrong, it's just the way it should be. Working remotely
this is especially tricky because you don't have the pressure of commuting, you can
stretch a few minutes to wrap up, but that's it!, when it's time, close your laptop
and go to your family, otherwise working after-hours becomes a habit and you won't
be productive during office hours because you'll be thinking on finishing after-hours.&lt;/p&gt;
&lt;h1&gt;Conclusion&lt;/h1&gt;
&lt;p&gt;Time management is vital and a very difficult soft skill to develop, it's all about
routines and rituals to me, it takes a lot of will power and discipline to actually
put these personal processes in place but, in my own experience, it's totally worth
the effort, if I miss doing my TODO list one day, I feel bad and a bit lost and
I'm not fully productive that day because I don't have a clear picture of the
priorities. Writing everything down helps you take it out of your system and
take the tasks one by one without the fear of forgetting something.&lt;/p&gt;
&lt;h1&gt;Recommended readings&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Master your time, Master your life by Brian Tracy&lt;/li&gt;
&lt;li&gt;Deep Work by Cal Newport&lt;/li&gt;
&lt;/ul&gt;</content><category term="Blog"></category><category term="career"></category><category term="personal"></category><category term="productivity"></category></entry><entry><title>The pain of moving</title><link href="//iffm.me/the-pain-of-moving.html" rel="alternate"></link><published>2021-04-23T00:00:00+04:00</published><updated>2021-04-23T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2021-04-23:/the-pain-of-moving.html</id><summary type="html">&lt;p&gt;There are only few things in life which are as painful, annoying, energy and
time consuming as moving, yes, shifting places is a pain in the... you know.
There are a lot of unknowns and that baffles me: new rent, new neighborhood,
am I going to like it? is it …&lt;/p&gt;</summary><content type="html">&lt;p&gt;There are only few things in life which are as painful, annoying, energy and
time consuming as moving, yes, shifting places is a pain in the... you know.
There are a lot of unknowns and that baffles me: new rent, new neighborhood,
am I going to like it? is it going to worth the money I'm spending in rent?
Is the new landlord going to be an asshole at some point? then... the new
house, things are never as advertised, they'll show you only what they want you
to see, Real Estate agents are very good at distracting you from details during
the site visit, there's only so much you can see in a few minutes in the property
and that's a huge monster under the bed that will come back and bite you later on.&lt;/p&gt;
&lt;p&gt;I've moved a handful of times because I don't like it, yes, it's very exciting to
be at a new place and meet new people, but all the process around it is never
straightforward. We recently moved to a bigger place, here in Dubai, I believe
the biggest expense is paying the rent, so we delayed it as much as we could, then
COVID gave us the perfect excuse to delay it even more. The truth is, we were all
living in a 1 bedroom apartment for over seven years, since we arrived in Dubai.
We lived in the same building, shifted apartments a couple of times within the
same building, we started just the two of us, my wife and I, then Antonietta
was born and now, 4 years later, Elise has come. It became very difficult to
work from home at some point with everyone in the house and my workspace set up
at the dining table.&lt;/p&gt;
&lt;h1&gt;The house&lt;/h1&gt;
&lt;p&gt;Because of COVID, rents were doing down and kept low for a long while, so, COVID
also gave us the opportunity to move from a 1 bedroom apartment in a very old
building, into a brand new 3 bedrooms villa, with a backyard and everything
for the kids to play and bring friends over, and the rest was almost the same as
the apartment. But not everything is as pretty as
it sounds...&lt;/p&gt;
&lt;h2&gt;New place means everything is broken&lt;/h2&gt;
&lt;p&gt;Yes, it's weird but it's true, I wish I knew this before, we've had many issues
with water-related things. First the kitchen sink was blocked, apparently there
was a lot of dirt in the pipes so it had to be cleaned, we did that, then, suddenly
water stopped coming out of the faucets, I called maintenance and the guy said
the water tank was empty, so, he opened the main stopcock and water started coming
into the tank, 20min after, my recently fixed brand new backyard was flooded.
I called maintenance again and they took about 2h to come, it turned out the
have the float valve, which closes the water once the tank is full, had to be replaced.
This repair had to be done by my landlord, thankfully it didn't take too long to
fix and the landscaping company fixed the grass again at no cost, KUDOS Green
Lawn Landscaping for the GREAT customer support.&lt;/p&gt;
&lt;p&gt;Then... no water again, after troubleshooting I found out the water tank was
empty again, someone closed the main stopcock. No worries, I opened it and after 20min
it was full again, no floods this time but no water was coming either, I guessed
since the tank was empty the pumps might had got air-blocked, I tried to purge them
myself but it didn't work, so I called maintenance again. They managed to purge
the pumps and get everything working again, but they also said I had to replace
the non-return valve, which prevents the water flowing back into the tank when the
pumps are not working because there's enough pressure. Again... has to be
fixed by my landlord.&lt;/p&gt;
&lt;h2&gt;Stupid warranty policy&lt;/h2&gt;
&lt;p&gt;Yes DAMAC, this is you!. Both times I had to call maintenance, the pointed out
the Villa is out of warranty, which I find quite unfair, and I'm speaking for
my landlord here, COVID delayed the handover because he was back home in India and
was unable to flight back into the UAE for a long while, again, because of the
global COVID-19 pandemic, something no one could foresee, it was officially handed
over to him by the end of December 2020 and now, by April 2021, only 4 months
after, warranty is expired. Let's pause here, the house was supposed to have 1
year warranty coverage, yes, &lt;strong&gt;a house&lt;/strong&gt; has only &lt;strong&gt;one year&lt;/strong&gt; of warranty. My
TV has 2 years, my iPod, 3 years, my car, 5 years. A Louis Vuitton bag or a Gucci
pair of shoes have &lt;strong&gt;a life time&lt;/strong&gt; warranty, they can be repaired, anytime,
anywhere, at any store in any country, as many times as you need, all of these
warranties start running since the moment I get the items, not when I paid, not
when they were built, they only start when I have the product in my hands. A
"luxury villa" has only 1 year, which turned out to be 4 months only. You might
think, yes, those are electronics, very small things, OK, let's go back to construction,
my backyard landscaping has 8 years of warranty and the shades I installed have 3 years,
the entire house only 4 months, how is this supposed to be right?&lt;/p&gt;
&lt;h2&gt;Old issues&lt;/h2&gt;
&lt;p&gt;When my landlord came to check the water tank the first time, there was no trace of
any float valve, if it was broken it had to be somewhere inside or around the tank,
but there was none, I am sure the valve was not installed since the beginning, same
with the NRV, they were not there. Those were old issues which went undiscovered
because no one was living in the house until now. I am quite sure there are many 
more undiscovered issues I'll be stepping into...&lt;/p&gt;
&lt;p&gt;but...&lt;/p&gt;
&lt;p&gt;Because the warranty was less than 4 months... you get the point.&lt;/p&gt;
&lt;h1&gt;The furniture&lt;/h1&gt;
&lt;p&gt;Because we moved from a one bedroom apartment into a 3 bedrooms villa, we had to
buy some new furniture, we went to IKEA and HomeCenter of course, the experience
has been beyond horrible.&lt;/p&gt;
&lt;h2&gt;IKEA&lt;/h2&gt;
&lt;p&gt;The assemblers didn't follow the instructions and now, there's one cabinet pending
for installation among some other additional enhancements for the same unit.
I visited the store, explained everything that happened and they agreed to arrange
a team to do all the things, I get a call from a supervisor to coordinate the date,
we agreed on a Sunday, before noon. The day comes, no one shows up, next day we went
out and I get a call from the driver "sir, I'll be there within 20min", I tell him
"I was expecting you yesterday, I'm about 1h and 20m away" he answers "it's OK
sir, we will be there". I reach the house, no truck is there, I call and the
guy laughs at me and says "we waited 30min and left, we have other customers to
serve", of course I complained a lot, they made me waste my time, I wasn't planing
to come back home and I did because they said they could wait, I visited the 
store again and I'm waiting to coordinate... again... &lt;/p&gt;
&lt;h2&gt;HomeCenter&lt;/h2&gt;
&lt;p&gt;The delivery of my daughter's bed was scheduled to happen between 13:00 and 17:00,
after hanging up the phone on me multiple times, they showed up almost at 23:00,
I was tired so I just let them do their job and leave, they scratched all of the stairs
and the bed was also all scratched as if it was used for 5 years before reaching
my daughter's room, I complained at the store and to site manager promises to call
me back within 3 days, it's been over a week and nothing has happened&lt;/p&gt;
&lt;h2&gt;Horrible after-sales service&lt;/h2&gt;
&lt;p&gt;This is a recurring issue, it seems like all merchants forget about the customer
right after taking their money and the only way to get things done is to stop being
a nice human being, yell and threat to escalate things.&lt;/p&gt;
&lt;p&gt;All of this has happened over the past 2 weeks, so... let's see how I solve everything
hopefully quick... let's see what happens"&lt;/p&gt;</content><category term="Blog"></category><category term="personal"></category><category term="life"></category></entry><entry><title>Work at a company that puts people first</title><link href="//iffm.me/work-at-a-company-that-puts-people-first.html" rel="alternate"></link><published>2021-04-14T00:00:00+04:00</published><updated>2021-04-14T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2021-04-14:/work-at-a-company-that-puts-people-first.html</id><summary type="html">&lt;p&gt;The title says it all, easier said than done right? the truth is that it takes
a lot of time for some people (and not so long for some others) to find a place
where they feel welcomed and belonging, it's a quite cool feeling when people
appreciate you and …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The title says it all, easier said than done right? the truth is that it takes
a lot of time for some people (and not so long for some others) to find a place
where they feel welcomed and belonging, it's a quite cool feeling when people
appreciate you and makes an effort in making you feel comfortable at work in
every aspect by always taking into account what's important to you and helping
you with that.&lt;/p&gt;
&lt;p&gt;For me, I've been working in the software industry since I was studying, and I
have a lot of stories. Most companies value the business first, and that's
completely valid, if the business is OK, everyone is getting paid and everyone
is happy. But I feel I don't last long in this type of companies, I value
flexibility, every company has its rules and every manager has their values and
also set of rules they use to run their teams, but I believe everything needs to
be evaluated in a case by case basis, not everyone has the same conditions
or priorities in life and this is where this approach fails. Let me share a brief
story of my professional life until now and why I've left some of the companies
I worked for.&lt;/p&gt;
&lt;h2&gt;My first job&lt;/h2&gt;
&lt;p&gt;My first &lt;em&gt;official&lt;/em&gt; job, and by &lt;em&gt;official&lt;/em&gt; I mean, for a company, with a contract
and not doing something kinda freelance for a friend, was with an online news
hub, they scrapped news websites and presented all the headlines from different
sources in a single place, people could customize which sources they preferred 
for certain topics and filter based on that. My job there was to build bots to
scrape multiple sources, extract the content and store it in our system. I was
still doing my undergraduate courses so it was a part-time thing.&lt;/p&gt;
&lt;p&gt;Everything was going great! salary always on time for about 3 months, then...&lt;/p&gt;
&lt;p&gt;By the end of the fourth month, I didn't see the salary being credited to my
account, I didn't pay too much attention, maybe there's a delay with the bank
or they didn't process the payroll on time or whatever, I emailed my manager and
I got an auto-response that he was on vacation, half-way into the month I email
my manager's manager asking what happened...&lt;/p&gt;
&lt;p&gt;The answer was &lt;em&gt;yes, you didn't get paid because you're not working with 
us anymore&lt;/em&gt;, I was a bit shocked because no one told me I was let go, they
conveniently forgot to tell me that little detail, wait a minute, this gets way
better, I highlighted exactly that and the answer was amazing: &lt;em&gt;well, Israel,
if you see the contract it says any party can end the employment agreement. It
doesn't explicitly mention any notice, technically we didn't do anything wrong&lt;/em&gt;.
Long story short, I had to threat them with going to the labor authority and
report the issue in order to get my last salary... almost 3 months after.&lt;/p&gt;
&lt;h3&gt;Lesson learned&lt;/h3&gt;
&lt;p&gt;There's very bad people owning and managing companies, I know I was undergraduate
but they even used that fact to imply I should be thankful about them paying me
for my work because, and I quote textually, &lt;em&gt;a lot of students would work for 
free just to get the experience&lt;/em&gt;, well, I wasn't one of those students...&lt;/p&gt;
&lt;h2&gt;My internship, great! until it wasn't&lt;/h2&gt;
&lt;p&gt;My first professional work experience was on my internship, I did it with a
small local OpenSource consultancy firm, I learned A LOT!, the work environment
was great and fun, workmates were cool, smart and the kind of people who knows
what they're doing. The only bad thing was salary, as I was an intern, my salary
was low, but I was OK, at least I was doing things I was into and learning quite
a lot.&lt;/p&gt;
&lt;p&gt;When I finished my internship, they offered me a permanent position which I
accepted, they were aware I was still having academic commitments and they were
OK with that. I had to work on my thesis project so, after some time I asked for
some time off to do that, they offered me a room at the office where I could lock
myself up for up to 3 hours a day to fully focus on my thesis, this was awesome but
the only bad thing was it was respected for a bit over a week, after that I started
getting constantly interrupted to work on other things, we went back and forth
with this for a little over 2 months until I decided to quit so I could focus
on my thesis.&lt;/p&gt;
&lt;h3&gt;Lesson learned&lt;/h3&gt;
&lt;p&gt;Sometimes your priorities and the organization's priorities are not aligned, and
this is fine, when this happens the best thing to do is to part ways. Maybe if
I was given that time off to complete my thesis as I initially requests I would
still be working there. The company, the projects and the team were awesome.&lt;/p&gt;
&lt;h2&gt;Fast forward to my first job in Dubai&lt;/h2&gt;
&lt;p&gt;I won't be talking about how I got a job in Dubai and how I got here, &lt;a href="https://iffm.me/new-grads-survival-guide.html"&gt;I wrote
about it before&lt;/a&gt;, I won't write about how cool it was because &lt;a href="https://iffm.me/working-at-dubizzle.html"&gt;I already did it&lt;/a&gt;
but I'll dig a bit deeper on the real reasons behind me leaving that company.
I wrote an &lt;a href="https://iffm.me/bye-bye-dubizzle-hello-careem.html"&gt;article before about it&lt;/a&gt;, but I wasn't completely honest about why
I actually left because I didn't think it was appropriate at that time. By now,
I know people have changed and switched places, and everything is different so
I won't be at risk of exposing anyone.&lt;/p&gt;
&lt;h3&gt;The end of the honeymoon&lt;/h3&gt;
&lt;p&gt;In October 18th 2016 my first daughter was born, and it was also the day that
marked the beginning of the end for me at that company. See, here in the UAE, the
paternity leave policy at that time was 1 week off, that company gave 2 weeks
and nothing more. Everyone knew my wife and I are here alone, the nearest
relatives we have are in Spain so we were becoming parents all by ourselves,
which is a lot of work, paternity leave is not vacation it's time to support
your wife who just pushed a human being out of her body and now has to breastfeed,
which is very energy-consuming and demanding.&lt;/p&gt;
&lt;p&gt;So, 2 weeks are not enough, 40 days is the recommended resting time for new moms,
I literally had to beg for my line manager to approve 2 extra weeks off from my
annual leave and coming back, everything was changed.&lt;/p&gt;
&lt;p&gt;My line manager started making my life impossible, I got a terrible performance
review, which I felt was not fair because an incident from over a year and a half
ago was brought up as the reason even though I fixed it in less than 1hr since the
bug affecting subscriptions experience was reported.&lt;/p&gt;
&lt;p&gt;Then, my in-laws visited in November, they were staying with us in Dubai for
three months, until January, so, I applied for 2 weeks off in December so that
we could spend some time around Christmas and New Year together and show them
around. In December, the guy announces the following: &lt;em&gt;guys!, there's a lot to
do, so I won't be approving any vacations this month&lt;/em&gt;, my time off request was
rejected and then I got to know another colleague got it approved to go back home
for a relative's wedding and another colleague was also traveling the same month.
I didn't get to spend too much time around either because there was always something
to do, one day, at around 17:30, the guy in question starts packing to leave and
says &lt;em&gt;Israel!, please make sure you close all the zendesk tickets before leaving&lt;/em&gt;.
After he left, I checked our support dashboard... over 30 tickets pending for 
resolution. I was effectively being given all the crappy tasks no one else wanted
to work on.&lt;/p&gt;
&lt;h3&gt;Then I was moved to a different team&lt;/h3&gt;
&lt;p&gt;Yup, I thought things were going to improve, and they did for a bit, in 2017 I
spoke in 2 conferences and several meetups, mostly about things I was working on
and trying to attract more talent for the company as well. Before one of the 
conferences I got a task on a very short notice before traveling, so, I made it
clear I might not be able to finish it before flying, but I would complete
what I could and leave pointers on how to finish it so someone else could pick
it up and I did exactly that, the night before flying I wrote a very comprehensive
email explaining the approach I was following and detailing which classes needed
to be changed, which methods and why, even left some test cases written to validate
the functionality worked correctly. Coming back from the conference, my new manager
calls me for a meeting, I thought it was something related to the talk I gave
in the conference, but nope... not even close...&lt;/p&gt;
&lt;p&gt;He hands me a warning letter, on which grounds?, because &lt;em&gt;I failed to finish
a task and left for a week&lt;/em&gt;, and he also mentioned &lt;em&gt;your team mates say you're
unreliable and they avoid working with you&lt;/em&gt;, I was shocked, no one ever told me
anything like that. A few days after that meeting I asked my colleagues for
feedback and everything I got was positive, so, I figured, either my line manager
was lying to me or my colleagues were not professional enough to speak to me
directly about work-related things they were not happy about with me. In both
cases, I think that's unacceptable in a professional environment, I thought I left
all that "talking behind your back" thing back in high school.&lt;/p&gt;
&lt;p&gt;Anyways, the performance review time comes and I'm called for the performance
evaluation meeting, to my surprise, there's my line manager and my old manager
sitting behind the table which I found strange, what was even more strange was
that the person delivering the performance evaluation was my old manager and,
guess what, it wasn't a good one and quite old things from over 2.5 years ago
were brought up, I have to admit I lost my cool in the middle stopped the
evaluation, told my manager &lt;em&gt;You'll have my resignation email in a few minutes&lt;/em&gt;
and left the room, that's when I wrote an email to HR CCing my line manager to
start my notice period.&lt;/p&gt;
&lt;h3&gt;Lesson learned&lt;/h3&gt;
&lt;p&gt;The minute you feel something is not right, speak up, complain, talk to people,
highlight it... if you feel it isn't right, then it isn't right, you don't have
take crap from anyone and if someone is giving you a hard time for no apparent
reason, the best thing to do is to part ways, to be honest, looking back I feel I
took too long to leave.&lt;/p&gt;
&lt;h2&gt;And I joined Careem&lt;/h2&gt;
&lt;p&gt;I already wrote about joining Careem and why I joined, so, I won't repeat myself
here, but I will point out that I had my second daughter recently (2020) and I was
super scared about it, this didn't go too well with my previous employer and
I have to confess I started interviewing with several companies at the time, had
2 very good offer letters in my hands and was on the final stages for another 2
openings.&lt;/p&gt;
&lt;h3&gt;Things were different this time&lt;/h3&gt;
&lt;p&gt;Well, the only thing which was the same was the paternity leave time, only 2 
weeks, I spoke to my manager about getting an extended paternity leave because 
of COVID, no family was going to be able to come over, airports were closed
(it was by the end of 2020) and forget about traveling to Spain and working from
there for a while... you know... because COVID... and also because my wife's 
passport was expiring. Nothing like this was ever proposed at Careem and he was
quite new in this &lt;em&gt;being a manager&lt;/em&gt; thing so, he did what any new manager would do,
he asked me to go to HR and he would be OK with whatever they decide and, if they
said &lt;em&gt;no&lt;/em&gt;, we would find a way.&lt;/p&gt;
&lt;p&gt;So... I went to HR and explained everything, they were super supportive, they said
&lt;em&gt;hey, there's no such thing as an extended paternity leave, but you can request
time off your annual leave as we have unlimited vacations policy and we will leave
a note highlighting this was for paternity extension&lt;/em&gt;. I did just that, not only
HR and my manager were super supportive, but also my whole team. I got a bit over
a full month to spend at home supporting my wife and taking care of our 4yo
who was staying at home because of the pandemic so that my wife could breastfeed
peacefully, also doing a lot of diaper changes.&lt;/p&gt;
&lt;p&gt;Then, coming back to work was super flexible, they gave me quite flexible timing
to continue supporting at home while we got back into the routine. I even got a 
great performance review, I am beyond happy about all of this.&lt;/p&gt;
&lt;h3&gt;What about the interviews&lt;/h3&gt;
&lt;p&gt;Well, I understood that very few companies are like this, so... I ended up rejecting
the offers and canceling the last interview rounds.&lt;/p&gt;
&lt;h2&gt;My take about everything&lt;/h2&gt;
&lt;p&gt;A job is a job, and there's nothing you can do about it, you have it today,
tomorrow no one knows. But not all companies are the same, there are some which
puts the business first. For example, the first company I worked for... maybe they
needed someone cheap to complete the mechanical work of implementing web scrapers
to extract the content from those websites and they just stopped caring after it
was done, I don't know. The one where I did my internship, well, they had projects
to finish for the clients, so, they needed me to work on that, so my thesis and
my graduation goal wasn't a priority for them. My first job in Dubai, well, I
don't know what happened there, but if they had a "people first" kind of philosophy
nothing of that would had happened. Of course, I understand, if the business comes
first, it runs, it generates value and revenue and people gets paid.&lt;/p&gt;
&lt;p&gt;Then, on the other hand, we have companies like Careem, maybe supporting my wife
is not their business or priority, but it was something I needed to do so, they
supported me on that. Then, coming back to work and get back into the routine
might be their priority, and also mine, but also family comes first, so... if 
something was happening at home, I had to solve that first and then comes the work.
They could have rushed me into work, but they didn't, we went step by step and
I took only non-critical tasks for a while until everything was settled both at
home and work. They understand that if you put your people first, they will 
care for the business as if it was their own, and that's exactly what I do. I want
to work on a place like this for a very long time, and it's my job to contribute
to its success so I can continue here.&lt;/p&gt;
&lt;p&gt;Thank you Careem for being Careem.&lt;/p&gt;</content><category term="Blog"></category><category term="career"></category><category term="personal"></category></entry><entry><title>Internal OpenSource</title><link href="//iffm.me/internal-opensource.html" rel="alternate"></link><published>2020-07-08T00:00:00+04:00</published><updated>2020-07-08T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2020-07-08:/internal-opensource.html</id><summary type="html">&lt;p&gt;OpenSource software has been out there for quite a long time, the idea of people
around the world volunteering part of their time to work on free software is
very exciting, but also maintaining those projects is very hard. Keeping everyone
on the same page so that there's no duplicated …&lt;/p&gt;</summary><content type="html">&lt;p&gt;OpenSource software has been out there for quite a long time, the idea of people
around the world volunteering part of their time to work on free software is
very exciting, but also maintaining those projects is very hard. Keeping everyone
on the same page so that there's no duplicated work, agreeing on the road-map and
what's going or needs to be done, prioritizing bugs, reviewing code, merging and
then, everyone updating their local repos or forks. OpenSource software development
is a huge human distributed system which, most of the time, uses async communication
due to the inability to get every single developer working on the software in a room
or, at least, a virtual call for obvious reasons: timezone, everyone works on different
schedules so everyone is free at different times and most of the people also work full time
for software companies, most of the time on other projects.&lt;/p&gt;
&lt;p&gt;OpenSource projects and free software development has tons of limitations in the way they
can coordinate and communicate with the entire team, and yet OpenSource projects
has higher standards and a higher bar than most close-source projects or corporate-internal
software built in-house. This is why, whenever I need to do something at work, whenever I need
to research for best practices in how to manage a project, how to manage or coordinate a team,
how to do anything with tech, I refer to how the team behind my favorite OpenSource project
at the moment is doing things and borrow as many ideas as possible and see how to adapt them
to what I'm working on or the team I'm working with. OpenSource has very complex people
problems, team members are scattered all around the globe, if their strategies, policies and
practices help them solve their problems, they should also work at a smaller scale in private
companies building software.&lt;/p&gt;
&lt;h1&gt;The cathedral and the bazaar&lt;/h1&gt;
&lt;p&gt;The Cathedral and the Bazaar is an essay written by Eric Raymond, in this essay he examines two
different approaches to Software Development by two different OpenSource projects:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;The Cathedral:&lt;/strong&gt; where the source code is available for each release, this is only the stable
code, all the code in between releases and all the work done on top of it is private to the contributors
only. In the essay the author cites GCC and GNU Emacs as examples for this approach.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;The Bazaar:&lt;/strong&gt; where all the code and the development process is public to all of the internet, in the essay,
Raymond cites Linux Torvalds as the inventor of this approach and the Linux Kernel Development as an example of
a project built under this method as well as the Fetchmail project.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I won't go deep into the essay as I think it is a must read for every Software Engineer, so, I'll leave some
links so that everyone can have a look at it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TL;DR; you can check the main points on the essay in its &lt;a href="https://en.wikipedia.org/wiki/The_Cathedral_and_the_Bazaar"&gt;Wikipedia page&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;You can also find the full version at the &lt;a href="http://www.catb.org/~esr/writings/cathedral-bazaar/"&gt;official website&lt;/a&gt; along with
other interesting writings by Eric Raymond&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Key points&lt;/h2&gt;
&lt;p&gt;The key highlights from the article, also mentioned in the Wikipedia page, are summarized in the following 19 lessons:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Every good work of software starts by scratching a developer's personal itch.&lt;/li&gt;
&lt;li&gt;Good programmers know what to write. Great ones know what to rewrite (and reuse).&lt;/li&gt;
&lt;li&gt;Plan to throw one [version] away; you will, anyhow. (Copied from Frederick Brooks' The Mythical Man-Month)&lt;/li&gt;
&lt;li&gt;If you have the right attitude, interesting problems will find you.&lt;/li&gt;
&lt;li&gt;When you lose interest in a program, your last duty to it is to hand it off to a competent successor.&lt;/li&gt;
&lt;li&gt;Treating your users as co-developers is your least-hassle route to rapid code improvement and effective debugging.&lt;/li&gt;
&lt;li&gt;Release early. Release often. And listen to your customers.&lt;/li&gt;
&lt;li&gt;Given a large enough beta-tester and co-developer base, almost every problem will be characterized quickly and the fix obvious to someone.&lt;/li&gt;
&lt;li&gt;Smart data structures and dumb code works a lot better than the other way around.&lt;/li&gt;
&lt;li&gt;If you treat your beta-testers as if they're your most valuable resource, they will respond by becoming your most valuable resource.&lt;/li&gt;
&lt;li&gt;The next best thing to having good ideas is recognizing good ideas from your users. Sometimes the latter is better.&lt;/li&gt;
&lt;li&gt;Often, the most striking and innovative solutions come from realizing that your concept of the problem was wrong.&lt;/li&gt;
&lt;li&gt;Perfection (in design) is achieved not when there is nothing more to add, but rather when there is nothing more to take away. (Attributed to Antoine de Saint-Exupéry)&lt;/li&gt;
&lt;li&gt;Any tool should be useful in the expected way, but a truly great tool lends itself to uses you never expected.&lt;/li&gt;
&lt;li&gt;When writing gateway software of any kind, take pains to disturb the data stream as little as possible—and never throw away information unless the recipient forces you to!&lt;/li&gt;
&lt;li&gt;When your language is nowhere near Turing-complete, syntactic sugar can be your friend.&lt;/li&gt;
&lt;li&gt;A security system is only as secure as its secret. Beware of pseudo-secrets.&lt;/li&gt;
&lt;li&gt;To solve an interesting problem, start by finding a problem that is interesting to you.&lt;/li&gt;
&lt;li&gt;Provided the development coordinator has a communications medium at least as good as the Internet, and knows how to lead without coercion, many heads are inevitably better than one.&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;My own views&lt;/h1&gt;
&lt;p&gt;While Eric Raymond's essay covers different approaches to open source development which can be also used in the industry, inside software companies,
I see something very common within open source projects, they all produce high quality documentation, not only because they want people to use it
but also because they want people to be able to collaborate and contribute without taking too much time from active developers who are volunteering
to work on the project. This approach to on-boarding new contributors is very powerful and can benefit a lot any team working on software projects
in any company.&lt;/p&gt;
&lt;p&gt;Having high quality documentation can help mainly in two things:&lt;/p&gt;
&lt;h2&gt;On-boarding new team members&lt;/h2&gt;
&lt;p&gt;How many times have you repeated yourself over and over and over again when a new engineer joins your team, walking them through
the architecture, the code, setup the local development environment and then helping them ramp up on the tools used in the team.&lt;/p&gt;
&lt;p&gt;This walk-through can be easily delegated to documentation pages maintained and updates by the team, just the same way OpenSource projects
do it, they have a section on their docs specialized in helping new contributors getting started, it also explains how to update the docs, so
that if any new contributor finds a mistake, something that's not up to date or something that needs to be documented, they can just edit
the wiki and fix it or add whatever is needed. This way the next person to be on-boarded won't face those issues.&lt;/p&gt;
&lt;h2&gt;Empower other teams to contribute&lt;/h2&gt;
&lt;p&gt;It's a common case to have internal services which are only used by other services maintained by other teams, these are called platform services,
they commonly abstract underlying resources needed by public-facing services, also, it's common to have public services relying on each other or
exposing endpoints so that other services request or update transactional data, which means, other teams might require features to be
built in other services by other teams for internal consumption.&lt;/p&gt;
&lt;p&gt;In a normal scenario, both teams will have to coordinate and align on deliverable, prioritize and iterate over and over again, often, priorities
change and everything needs to be reevaluated. If you follow any inner source pattern, whether you give access to the stable code or all of it,
plus high quality documentation for new contributors, the other team can easily contribute to the service in question and build the feature they need
by themselves. Of course, you need to also make it easier for them by providing clear guidelines and policies on how to contribute, the code
conventions used in your team's project and making sure the team knows them and enforce them, after all they'll be the ones maintaining that code
after it gets merged.&lt;/p&gt;
&lt;p&gt;I've implemented this in some of my teams and the relieve of flipping the responsibilities to support internal use cases to the team requesting the
features is amazing. We've only had to give them links to our docs, help them update it wherever it was not and have them add whatever they thought
could be useful, then, during development it only requires code review, 80% of the effort relies on the team building the feature they need on the
service your team maintains while you only support them with code review and, maybe, QA, but if the feature is with them their QA team should be thew
one having more clarity on the use case and, hence, the test cases needed to be covered.&lt;/p&gt;
&lt;p&gt;It's very convenient, it unblocks other teams which need custom features for internal consumption to be built as they don't need to wait for your team
to be free to do it, risking their deadlines on priority changes on your end while also lets your team focus on whatever priorities are there for
them. It only requires some time to put the documentation in place and review the code being pull requested by the contributing team.&lt;/p&gt;
&lt;p&gt;Does this sound like something you might want to try?&lt;/p&gt;</content><category term="Blog"></category><category term="opensource"></category><category term="projects"></category></entry><entry><title>A Consultancy Story</title><link href="//iffm.me/a-consultancy-story.html" rel="alternate"></link><published>2020-06-24T00:00:00+04:00</published><updated>2020-06-24T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2020-06-24:/a-consultancy-story.html</id><summary type="html">&lt;p&gt;About 8 months ago I was contacted by someone who needed a software project,
the requirements were clear and simple enough for the most part, but it had a huge 
field operations component and it required the software to provide real time metrics 
to the operations teams about what was …&lt;/p&gt;</summary><content type="html">&lt;p&gt;About 8 months ago I was contacted by someone who needed a software project,
the requirements were clear and simple enough for the most part, but it had a huge 
field operations component and it required the software to provide real time metrics 
to the operations teams about what was happening on the ground. Not to mention a very 
complicated workflow for some edge cases.&lt;/p&gt;
&lt;p&gt;I went through the documentation they sent to understand what was required, but looking 
at the scope and the timelines they managed, I urged them to start as soon as possible in
order to meet the deadline gracefully and without cutting too many edges.&lt;/p&gt;
&lt;p&gt;They were hiring me as a Consultant Architect and Backend Engineer and they were hiring
another freelancer as a Frontend Engineer who was going to only build the client side
in accordance to the guidelines and specs given by me, so, I sent them my quotation with
a description of all the services I was going to be providing as well as the conditions
we both had to comply in order to ensure work gets done seamlessly and on time. As expected
there was some pushback, so, I reduced a little bit, but then, they said they were willing to pay
less than a half of what I was charging them, and this was their budget for the full project,
not just for the backend. I don't know how much the Frontend Engineer was charging them but
this was a deal breaker for me.&lt;/p&gt;
&lt;p&gt;To make the long story short, I told them I couldn't reduce further for them, so they outsourced
their project with an agency in South West Asia which delivered their project below their budget
and within the timesines they needed and I took another project. Apparently the quality was not 
great because last week they emailed me asking me if I was still interested in working with them.
Of course, I already had another plus my job and no time to get another one, potentially fixing
someone else's mess, so, I just told them that I was engaged with another client on a long term
project so I wouldn't have the time to get onboard with them.&lt;/p&gt;
&lt;h1&gt;WYPIWYG&lt;/h1&gt;
&lt;p&gt;Basically, when it comes to building software and tech, &lt;em&gt;What You Pay Is What You Get&lt;/em&gt; (WYPIWYG).
when you hire freelance engineers, you're not hiring a pair of hands to write the code for you,
you are hiring a brain to design, architect, plan and implement a solution that not only works,
but also works efficiently and scales. All of this comes with knowledge and experience after buiding,
and maintaining a number of projects and using different stacks for that, seeing what works better
and keeping those practices but also discarding the ones that were disastrous. &lt;/p&gt;
&lt;p&gt;I understand everyone has a budget, but the fact that they were coming back means that they could
afford it before, it was just that they were seeing no value in it, after all, &lt;em&gt;how hard can it be
to build few forms and some pages&lt;/em&gt;. But in the end, it's not about building few forms and some
pages with graphs, every application out there in the web is an Engineering project, no matter
how small or big it is, there is Engineering behind it.&lt;/p&gt;
&lt;h1&gt;It's not easy&lt;/h1&gt;
&lt;p&gt;Softare Engineering and Tech in general is among what is called the Knowledge industry, your tools,
besides a keyboard and a computer with decent specs, are your brain, which is your knowledge and
practical experience and the ability you have to reason about problems and how to solve them in
efficient and, sometimes, creative ways, so, in the Knowledge industry, everyone wants to be the
smartest guy in the room and tries to make things look easier than they are, minimizing the work
itself or only showing the 3 lines of code that it took to solve a problem, hiding all the thought
process, failed attempts and mistakes under the rug, as I posted once, &lt;a href="http://iffm.me/software-engineering.html"&gt;there's so much more to
software engineering than just writing code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If we minimize our work, trying to make it look easier, people won't give it the value it deserves
and go for cheaper options which could not always be the best choice when it comes to quality.&lt;/p&gt;
&lt;h1&gt;Good, pretty and cheap. Choose two&lt;/h1&gt;
&lt;p&gt;In Venezuela, we have a saying about things, whenever we are buying something we look for something that
has the three of them, it has to be good, because no one likes poor quality stuff, it has to be pretty,
because no one likes ugly things and it has to be cheap, because no one likes to spend a lot of money
on things. But usually, nothing is good, pretty and cheap at the same time, so, everything comes with a
tradeoff and you need to choose your balance.&lt;/p&gt;
&lt;p&gt;Whatever is good and pretty, is not cheap. Whatever is good and cheap, is not pretty and whatever is
pretty and cheap is not good and will break sooner than you think and you'll have to get another one
or call someone in to fix it, maybe the expensive freelance consultant you spoke to some time ago.&lt;/p&gt;
&lt;p&gt;Have you ever had a similar experience with a potential client? how did you handle it?&lt;/p&gt;</content><category term="Blog"></category><category term="business"></category><category term="consultancy"></category><category term="career"></category></entry><entry><title>Which languages should I learn?</title><link href="//iffm.me/which-languages-should-i-learn.html" rel="alternate"></link><published>2020-06-01T00:00:00+04:00</published><updated>2020-06-01T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2020-06-01:/which-languages-should-i-learn.html</id><summary type="html">&lt;p&gt;There are millions of articles and blog posts out there trying to
tell you what to learn next or which language or technologies are 
worth your attention, things like &lt;em&gt;Top 10 programming languages&lt;/em&gt; or
&lt;em&gt;Learn one of these languages and you'll be done&lt;/em&gt; with some statistics
about language popularity but …&lt;/p&gt;</summary><content type="html">&lt;p&gt;There are millions of articles and blog posts out there trying to
tell you what to learn next or which language or technologies are 
worth your attention, things like &lt;em&gt;Top 10 programming languages&lt;/em&gt; or
&lt;em&gt;Learn one of these languages and you'll be done&lt;/em&gt; with some statistics
about language popularity but the truth is, none of those make sense
no one can tell you what to learn and you don't need to study whatever
is popular out there all the time.&lt;/p&gt;
&lt;p&gt;Truth is, while popular languages are widely used, also, supply is high,
hence, salaries will tend to be lower, on the other hand, if you learn
the not-so-popular ones, salaries would be higher but you'll end up
most likely having a hard time finding a job.&lt;/p&gt;
&lt;h1&gt;Trends come and go&lt;/h1&gt;
&lt;p&gt;Whatever is popular today, might be considered terrible in the future as well
as what's not so popular today, might be widely used in future, you just have
to see the growth trends in whatever languages or technologies you're into.&lt;/p&gt;
&lt;p&gt;Few years back, for example, JavaScript was used only for frontend development
and JQuery was the best thing out there for it, now almost no one uses JQuery
directly, everyone is using react, angular or vue and now you can even find
JavaScript on the backend (not that that's a good thing IMO...).&lt;/p&gt;
&lt;p&gt;The point is, we should not chase the top 10 most popular technologies, we should
try to find a balance, otherwise we won't really fully learn nor master anything.&lt;/p&gt;
&lt;h1&gt;My view&lt;/h1&gt;
&lt;p&gt;I think that, the first thing we need to do is, work on what's paying your bills.
Few years back, for example, Python was the one paying my bills and it happened to
be the first language I worked with after graduating, I became passionate about it,
to the point that I organized meetups and conferences back home in Caracas - Venezuela
and after that, I only looked for jobs in Python, it was gaining popularity and growing
a lot, I know, I was lucky, but it also makes a point, I was focused on becoming
better on a single thing which were the technologies I was working with at that point
in time, the full stack was Python, Postgres and OpenERP (now it goes by Odoo).&lt;/p&gt;
&lt;p&gt;I think everyone should start by that, just become better and learn more about
the stack you're currently working with. My last 100% Python job was at my
previous company (dubizzle/OLX), when I joined Careem the stack I worked with
changed to Java, Springboot and MySQL mainly, so I started over, learning a new
framework and a not-so-new language to me. Then, I switched teams and the stack
was Python, Jenkins (groovy) and Terraform, again, learning new things. Then, after
almost 2 years, I again switched teams and the stack was Typescript, Express, Node,
and both MySQL and Postgres and after few months I was changed to a different team again,
the stack also changed and now, this team works on PHP and Go for the most part and
MySQL. Whenever your stack at work changes, focus on learning and mastering that.&lt;/p&gt;
&lt;p&gt;Once you master whatever is helping you pay your bills, you can use your spare
time to learn whatever you want, in my opinion you need to know at least one
of those popular languages just to make sure if something unexpected happens 
to your current job, you can find a new one quick. In my case, maybe I've been
just lucky, I know Python, Java and JavaScript and those are three of the most
popular languages out there today. But I also know their popularity won't last forever
and that some less popular languages might pay better salaries because supply is
less and the skills are more rare.&lt;/p&gt;
&lt;p&gt;Everyone is free to learn whatever they want, but this is how I think about it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Start by what pays your bills:&lt;/strong&gt; this is important, you need to be efficient at
your work and the only way to achieve it is by learning how to use your tools
effectively. This will help you do more in less time.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;One popular language:&lt;/strong&gt; well, at least one, if you like more than one, go for it,
why learning the popular ones?, this will open the door for more job opportunities,
you never know what will happen and it's better to be prepared to hunt (or be hunted)
for a new role on a different company.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;One high level language:&lt;/strong&gt; the higher level, the best, I'd go for a language with
a dynamic but strong type system, why? to build things quick. Usually high level
dynamic languages have a huge ecosystem of libraries and frameworks you can leverage
your work on and achieve more writing less code.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;One lower level language:&lt;/strong&gt; you never know when you'll need either more speed or
write something at system level or even have more control over how the program will
manage memory. Truth is, not all use cases are covered by a High Level object oriented
language.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It's not too hard to achieve that, you can mix and match languages in all those buckets, 
for example, in most of the cases what pays your bills will be a popular high level
language, that covers the first three, then you'll only need to learn a lower level
programming language to be all setup.&lt;/p&gt;
&lt;p&gt;Once you cover that, you can explore other paradigms and incorporate more patterns
and practices from those paradigms and other languages into your every day programming
style, by learning, understanding and practicing is the only way we become better
software engineers.&lt;/p&gt;
&lt;p&gt;In my case, as I know JavaScript/Typescript, Python and Java because of previous jobs,
maybe not all of them at an expert level but at least a general understanding so that
I can tackle most of the day-to-day tasks using them.
I'm focusing on learning Rust, it's a language which is growing and implements interesting
concepts and I've toyed around with Smalltalk and Haskell to see what's there to learn and 
incorporate new practices into my coding. &lt;/p&gt;
&lt;p&gt;What's currently on your learning list? let me know on the comments box.&lt;/p&gt;</content><category term="Blog"></category><category term="software engineering"></category><category term="career"></category><category term="personal"></category></entry><entry><title>Engage!</title><link href="//iffm.me/engage.html" rel="alternate"></link><published>2020-05-20T00:00:00+04:00</published><updated>2020-05-20T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2020-05-20:/engage.html</id><summary type="html">&lt;p&gt;I was playing with my daughter the other day, I had work to do but I take breaks
every now and then to pay attention and play or watch some episode of her favorite
cartoons on Netflix as I mentioned &lt;a href="http://iffm.me/working-from-home-with-kids.html"&gt;on a previous article&lt;/a&gt;. 
So, I was waiting for the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I was playing with my daughter the other day, I had work to do but I take breaks
every now and then to pay attention and play or watch some episode of her favorite
cartoons on Netflix as I mentioned &lt;a href="http://iffm.me/working-from-home-with-kids.html"&gt;on a previous article&lt;/a&gt;. 
So, I was waiting for the alarm to ring and checking the notifications on my phone
if there was an important email or slack message to reply to or a VictorOps ping
about a production incident, all of that while playing with her &lt;em&gt;Frozen&lt;/em&gt; toys to
rescue &lt;em&gt;Elsa&lt;/em&gt; from &lt;em&gt;Prince Hans&lt;/em&gt; who kept her locked in the castle. When the
break finished, it also meant the play time ended, the alarm rang and I said
something like "oh, it's time for daddy to go back to work" while I started 
getting up she interrupted me "but we didn't play!", then I said "of course we
played, we were rescuing &lt;em&gt;Elsa&lt;/em&gt;" and she threw a killer argument "you were on your
phone". I took a deep breath and realized it was true, truth was, I spent more time
checking on my phone rather than engaging in the game with her.&lt;/p&gt;
&lt;p&gt;We live in a very distracted world, in a very connected society, we are always
online and not only that, we are always on top of our phones waiting for the
next notification to come so that we know what was the latest event on someone
else's life or the latest comment on something we posted or, in my case, 
what's the latest instant message on my slack workspace. &lt;/p&gt;
&lt;h1&gt;Always distracted&lt;/h1&gt;
&lt;p&gt;Seems like we are unable to focus on doing a single thing and getting it done
in one sit, the ability to focus for a large span of time is lost, no matter
what it is, whenever we get a notification or feel the phone vibrating inside 
our pocket, we dump whatever it is we're doing and check what happened, then
we check other apps, then we put the phone away, sometimes we check even if 
it didn't beep!, why? why does a tiny device have such power over ourselves?&lt;/p&gt;
&lt;h1&gt;Change!&lt;/h1&gt;
&lt;p&gt;My daughter's statement made me realize I do that, I have that tendency to always
check my phone, even if I don't have any notification, it made me feel so bad about
myself, I don't want to be dominated by a device, I felt like Pavlov's dog, hardwired
to change my behavior whenever I hear a beep from my phone. So, I decided to change.&lt;/p&gt;
&lt;h2&gt;Take action&lt;/h2&gt;
&lt;p&gt;I started by eliminating all temptation, I muted all notifications on my personal phone
except for whatsapp and telegram, the only reason to keep those is my family, if they
write I want to reply, but I muted all the groups, I'll check them only when I want to,
same for social media apps.&lt;/p&gt;
&lt;p&gt;I quit Facebook and Instagram about a year ago and I don't miss them at all, I'm only
on twitter, reddit and linkedin, all of them muted on my phone and I only check them when
I want to, not when they tell me &lt;em&gt;hey, you have a message&lt;/em&gt; or &lt;em&gt;hey, someone liked something&lt;/em&gt;
same goes for gmail, I check it only when I want to, usually on my laptop.&lt;/p&gt;
&lt;p&gt;On my corporate phone I have notifications for almost everything, that is basically slack, gmail
and VictorOps, but I have silent hours for slack so I don't get bothered at all times, specially
over the weekend.&lt;/p&gt;
&lt;h3&gt;The most important thing&lt;/h3&gt;
&lt;p&gt;The most important change is not how to setup your notifications on your phone, is deciding
to change yourself and choosing to engage on the activity you're doing &lt;strong&gt;here and now&lt;/strong&gt;, whatever
is in front of you is what's important and should get 100% of the attention, engage!, if I'm playing
with my daughter, I decided to engage 100% and be all into it, if I'm working on a project, I engage
on that and fully focus on it for the time I have or decided to put into it, if I'm talking to someone
I'll be 100% into the conversation, not checking my phone. Some app installed on my
phone is not going to take me away from &lt;strong&gt;here and now&lt;/strong&gt;, because it's the only thing we have and the
only thing we live directly, a message from someone hundreds of kilometers away is not more important
than whatever is in front of you, interacting face to face. &lt;/p&gt;
&lt;p&gt;Stop letting the algorithm distract you and decide to engage!&lt;/p&gt;</content><category term="Blog"></category><category term="career"></category><category term="personal"></category></entry><entry><title>Software Engineering</title><link href="//iffm.me/software-engineering.html" rel="alternate"></link><published>2020-05-03T00:00:00+04:00</published><updated>2020-05-03T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2020-05-03:/software-engineering.html</id><summary type="html">&lt;p&gt;At work, my Engineering Manager asked me to start sharing my knowledge
with the rest of the team more often. Of course, we do code reviews and
we have some other ways to get the knowledge spread across the team, we have
a wiki on confluence, we have tech meetings …&lt;/p&gt;</summary><content type="html">&lt;p&gt;At work, my Engineering Manager asked me to start sharing my knowledge
with the rest of the team more often. Of course, we do code reviews and
we have some other ways to get the knowledge spread across the team, we have
a wiki on confluence, we have tech meetings where we talk about how we will
solve the problems at hand, those are good opportunities for very specific
knowledge sharing, which would be in the form of advice or guidance on the
approach to follow to implement something, but it would be nice to have
some other kind of sessions to keep the team motivated, active and seeing
each other while the lockdown lasts.&lt;/p&gt;
&lt;p&gt;I thought of several topics I could talk about, all technical ones:
DevOps, Distributed Systems, Functional Programming, very exciting ones
but then I realized, the team is very very good technically, everyone is
a very capable &lt;em&gt;programmer&lt;/em&gt;, and then I stopped. See, I said &lt;em&gt;programmer&lt;/em&gt;,
is that what we are?, nope, definitely not. The job title says &lt;strong&gt;Software
Engineer&lt;/strong&gt;, is that all we do? write code?, I don't think so. I started writing
my thoughts and put them together in the form of a talk I'll summarize in this blog
post. Thinking about it, most of us don't realize the complexity around
&lt;strong&gt;Software Engineering&lt;/strong&gt; and we minimize our work to &lt;em&gt;yeah, I write code and
stuff&lt;/em&gt; or &lt;em&gt;I maintain and implement new features&lt;/em&gt; but everything is much more
complex than that.&lt;/p&gt;
&lt;h1&gt;Programmer vs Developer vs Engineer&lt;/h1&gt;
&lt;p&gt;Don't misunderstand me, there are plenty of roles our there and we call ourselves
in many ways: &lt;em&gt;Software Engineer&lt;/em&gt;, &lt;em&gt;Software Developer&lt;/em&gt;, &lt;em&gt;Programmer&lt;/em&gt;, &lt;em&gt;Computer
Programmer&lt;/em&gt; but words have an impact and everything has a meaning, I believe
we should name things correctly. I'm not asking everyone to think or name things the same
as I do, but I do think we should separate things and roles in a better way and with
different expectations.&lt;/p&gt;
&lt;h2&gt;Programmer&lt;/h2&gt;
&lt;p&gt;A programmer is someone who writes code, that's it, a programmer wouldn't care
too much about Software Architecture or Design, neither about the whole lifestyle.
A programmer gets the full spec of what they need to implement, they write the code
and they deliver it, not much thoughts about how it's going to be deployed, where it's
going to run or how it's going to be used.&lt;/p&gt;
&lt;h2&gt;Developer&lt;/h2&gt;
&lt;p&gt;A software developer will care about the software, a bit of design and architecture
but that's it, not much interest in where it's going to be deployed, how it's going to
run or how it's going to be used.&lt;/p&gt;
&lt;p&gt;I'm not saying all programmer or developers are like that, I'm just saying these should be
the concerns of those roles. If you consider yourself a Programmer or a Developer and you go
beyond that, great!, now, the whole point of this article is to share my views and definition
about the &lt;strong&gt;Software Engineer&lt;/strong&gt; role.&lt;/p&gt;
&lt;h1&gt;Software Engineer&lt;/h1&gt;
&lt;p&gt;A Software Engineer, just like a Programmer and Developer, they care about Software,
they also write code and make sure it works as expected but also worry about design,
architecture and implementing best practices on every aspect about software&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Building:&lt;/strong&gt; as a Software Engineer, we worry about building good software, not only
about the software itself, we worry about the building blocks, choosing (or building) the 
correct ones, implementing the right levels of abstraction so that maintainability is
easier.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Operating:&lt;/strong&gt; as a Software Engineer, we know we don't have to always build something
new, we can just run existing software and operate it, monitor, manage and make sure
it runs smoothly so that every user can accomplish their goals with it. Also, we know that
the software we build needs to be operated by someone (sometimes ourselves) so we need to build
ways to interface and interact with it from an admin perspective.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Documentation:&lt;/strong&gt; this is a usually forgotten one, we read ridiculous amounts of manuals and
other types of documentation and interpret them in order to use third party software, but we also
need to write docs in order for other to use our software or understand and contribute to our code.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;We know about software&lt;/h2&gt;
&lt;p&gt;And we need to know a lot about it, not only to write it, but also to use it effectively, when building
it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;We know it has to be well done:&lt;/strong&gt; so we worry about architecture, design and making the right decisions
from the ground up: choosing the right stack, building the right abstractions and applying the best
practices we know.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;We know it has to be operable:&lt;/strong&gt; so we worry about things like CICD, monitoring, logging. Building it
in a way so that it is easy to debug and find issues while running on production as well as building ways
to interact with it to gather information, metrics or reports via command line if needed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;We know it has to work:&lt;/strong&gt; so we worry about testing and verification so that the behavior of the systems
we build is predictable, injective and idempotent. For a set of inputs, the output is something we expect.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;We know around software&lt;/h2&gt;
&lt;p&gt;We not only know how to build software, we also know many things around it.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;We know it has to run somewhere:&lt;/strong&gt; so we know about infrastructure and operating systems, but we're not
sysadmins.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;We know it talks to other software:&lt;/strong&gt; so we know about network and communication protocols as well as
distributed systems, but we're not network engineers.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;We know it has to store data somewhere:&lt;/strong&gt; so we know about databases and data modeling, we have to do it
efficiently and we have to know how to tune performance if needed, but we're not sysadmins.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;We know it has to function in a certain way:&lt;/strong&gt; so we worry about testing at several levels and of different kind:
performance, unit testing, integration, UX and UI testing, API tests. But we're not QA engineers&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;We are part of a team&lt;/h2&gt;
&lt;p&gt;All I mentioned before is very difficult and complex and, to add to that, we need to work with other humans,
we are part of a team which usually has people from diverse backgrounds and specialties, a (sometimes non technical)
Product or Project Manager, an Engineering Manager, some front end engineers, QA specialists and so on, we need to
communicate in different ways and keep everyone aligned on the same page.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Meetings:&lt;/strong&gt; we need to attend meetings in order to brief about the technicalities if the work being done
and unblock if someone needs help with something we know.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Documentation:&lt;/strong&gt; this comes in many forms, technical specs, API documentation, all of this is, at the end of the day,
communication that needs to flow constantly, just that we choose to store it in the form of text to that we don't have
to repeat ourselves every time when someone needs to use the API or go through how something was implemented and the thought
process behind it.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Code Review:&lt;/strong&gt; this is a good one, this is when we get to mentor people and help them get their work into a better shape,
also when we get help to improve ours and learn from others, this is also another form of communication.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Communication is everything&lt;/h3&gt;
&lt;p&gt;If you're not taking anything from this post, the only thing I'd like you to think about is that, yes, hard skills are very important
for the Software Engineering role, we need to think about how we write code that performs better, but none of that is useful if we are unable
to work with others. To work with others, communication is everything.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Don't assume the people you're talking to knows or has the same context you have, always start by sharing the contextual information
needed to understand the problem at hand or the solution you'll present&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Know your audience, it's not like you're performing a stand-up comedy routine but, when you're communicating, you do have an audience,
setting the tone and language is important, it's not the same talking (or writing for) API users than writing (or talking) to someone
whose code you're reviewing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Always ask, you never know if the others are assuming some context, the only way to find out is asking. When something is not clear
or you find yourself assuming something, that's when you need to ask. You can ask a question because you don't know something or a
clarifying question, which might seem redundant, just to make sure everyone is on the same page and getting the same understanding.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Once you realize you don't know it all and you don't have to know everything, you also realize the rest of the people
also don't know everything, and they also don't have to know it all, everyone comes from different backgrounds and knows some things
they've been exposed to or studied and ignore some others. Only by talking to each other, communicating and sharing knowledge we all
become stronger engineers.&lt;/p&gt;
&lt;h2&gt;Recommended readings:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.developersforhire.com/software-developer-vs-software-engineer"&gt;Software Developer vs. Engineer: What's the Difference?&lt;/a&gt; by developersforhire, this one goes a bit more about how much they make and the salary ranges for the roles&lt;/li&gt;
&lt;/ul&gt;</content><category term="Blog"></category><category term="career"></category><category term="software engineering"></category></entry><entry><title>Working from home with kids</title><link href="//iffm.me/working-from-home-with-kids.html" rel="alternate"></link><published>2020-04-20T00:00:00+04:00</published><updated>2020-04-20T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2020-04-20:/working-from-home-with-kids.html</id><summary type="html">&lt;p&gt;I've been hearing and reading about &lt;a href="https://en.wikipedia.org/wiki/Coronavirus_disease_2019"&gt;COVID-19&lt;/a&gt; since January 2020, this is the event that
changed many people lives, all of a sudden, companies were closed, people were requested to
stay at home, many businesses broke and many more are about to. I think one of the most impacted
roles …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've been hearing and reading about &lt;a href="https://en.wikipedia.org/wiki/Coronavirus_disease_2019"&gt;COVID-19&lt;/a&gt; since January 2020, this is the event that
changed many people lives, all of a sudden, companies were closed, people were requested to
stay at home, many businesses broke and many more are about to. I think one of the most impacted
roles are the ones that require people to be on-site in order to do their job, for instance, hospitality
is taking a huge hit because of the lack of business and hospitality employees are taking a 
huge risk by going to work too.&lt;/p&gt;
&lt;p&gt;Tech people such as Software Engineers, Product Managers and everyone who works in the tech industry
building software products running in the cloud are very lucky because all we need is an internet
connection and a laptop, in some cases a VPN setup to access the company resources and that's it, we
can work from anywhere in the planet, in many cases, people are very used to work remotely, nowadays
technology allows you to keep communicated, there's email, cellphones, chat, video-conferencing tools
to keep everyone in touch and, again, all you need is a decent laptop (usually company-provided) and
an internet connection.&lt;/p&gt;
&lt;h1&gt;The current situation&lt;/h1&gt;
&lt;p&gt;When &lt;a href="https://en.wikipedia.org/wiki/Coronavirus_disease_2019"&gt;COVID-19&lt;/a&gt; cases started to spike 
&lt;a href="https://www.worldometers.info/coronavirus/"&gt;worldwide&lt;/a&gt; many governments started asking people to stay
home to keep people from getting infected, then, it was not an optional thing, it became mandatory in
many countries, here in the UAE, specifically in the Emirate of Dubai, people are not allowed to go
out, only for essential reasons or emergencies. Buying food, medicines or a medical appointment are
valid reasons to go out and a permit needs to be obtained from Dubai Police, this is done online
and it's usually approved, takes only 15min. &lt;/p&gt;
&lt;p&gt;The issue is, almost everyone in the tech industry is working from home, schools are closed
so, kids are also required to stay home. Usually, when you work from home, kids are at school
so you can just be at home and get things done without any distraction if you're disciplined enough.
But, in this case, people might have kids asking them to play with them, demanding attention, siblings
fighting over a toy and, a worried parent, trying to get things done, most companies have understood
that and organized online activities with a focus on kids, Careem is one of these and I'm very proud
and happy to work for a company like this which is willing to, not only give me the flexibility to
care for my daughter when I need to, but also help me entertain her with online activities carried out
voluntarily by my colleagues.&lt;/p&gt;
&lt;h1&gt;My personal story&lt;/h1&gt;
&lt;p&gt;I've worked remotely before, I'm very used to it, for over a year at Careem, even though I was on-site 
at Basecamp here in Dubai, I was the only team member here, the rest of my team was located in Karachi,
Pakistan, so, online communication was the only way to stay in touch, back home in Caracas, I used to work from
home as well at times, but in both cases, I didn't have a 3yo at home wandering around and taking my attention
away from work. &lt;/p&gt;
&lt;p&gt;I love my daughter, I love sitting and playing with her, showing her stuff and her look when
she draws something and comes very excited to show me and explain the drawing for me, but I also have to
work, my boss and my team understand the challenges of working from home with kids and are very flexible,
but, my daughter, and most 3yo kids, have a hard time understanding that daddy (or mommy) needs to 
sit for a long time in front of their computer and do things, so, we need to look for other strategies&lt;/p&gt;
&lt;h1&gt;What has worked for me&lt;/h1&gt;
&lt;p&gt;My daughter is 3 years old, this means she has a lot of energy and wants to play all the time. I've been reading
a great book on parenting called &lt;a href="https://www.goodreads.com/book/show/29430725-how-to-talk-so-little-kids-will-listen"&gt;How to talk so little kids listen&lt;/a&gt;. It more like "How to not be a jerk to your kids
when they don't want to listen", it gives few strategies to make them be more collaborative without the punishment/reward
technique which backfires after some time and, sometimes, it just doesn't work.&lt;/p&gt;
&lt;h2&gt;I want to work with you daddy!&lt;/h2&gt;
&lt;p&gt;Yes, she actually says that, I can't get her in front of the computer and have her write code, but what I can do
is give her few assignments or fun stuff to do while I work, I ask her to paint something and give her
some brushes and markers, or a coloring book and ask her to finish few pages or draw some letters or numbers, 
and that I'll come back and review her work when she's done. My mom is a pre-school teacher and she sent me
a lot of activity sheets for her (all in Spanish so that she also learns the language).&lt;/p&gt;
&lt;h2&gt;I don't want to paint&lt;/h2&gt;
&lt;p&gt;Well... kids are people too, if someone imposes something to you, chances are you won't like to do it, just like grown
ups, they like to be in control of what they do, so, I give her options "oh, ok, you don't want to paint, then you can
do some playdoh figures or play a game in the iPad" (a carefully chosen educational game), that usually helps.&lt;/p&gt;
&lt;h2&gt;I don't want to do anything, I want to play with you&lt;/h2&gt;
&lt;p&gt;Ok, this has been a tough one, but what I've found was that putting her in charge again works. I've been using the
&lt;a href="https://en.wikipedia.org/wiki/Pomodoro_Technique"&gt;pomodoro technique&lt;/a&gt; to manage work time and break time, so, I fully focus for 1hr and then I take a 15 to 20 minutes
break. The way this works is, I tell my daughter to remind me to take breaks, I give her a timer and I tell her
"please, come pick me up when the alarm rings" and then, while playing I tell her "please, remind me to go back to work
when the alarm rings", this has worked so well we've started using it for timing other things &lt;/p&gt;
&lt;h2&gt;When she just doesn't want to collaborate&lt;/h2&gt;
&lt;p&gt;It happens from time to time, specially when she's sleepy and in a very cranky mood, what I try to do in these cases
is go into problem solving mode (if she's not cranky) I tell her "ok, you want to play but daddy needs to work, what
can we do?" sometimes she says "no, no, no work!" when this happens and if I can't manage to convince her, I just
take a break if I don't have any meetings. Sometimes, when it works, she says "ok, ok, let's put the alarm" or
"I'll cook you something in my kitchen while you work", and she brings me a delicious plastic omelet. &lt;/p&gt;
&lt;h2&gt;I keep my word&lt;/h2&gt;
&lt;p&gt;If I tell her, "we will do X" we do it, kids are kids but they're not stupid, they remember things and they will
hold you accountable, so, if it's in my control, I hold my promises, if not (because the place I promised to take
her is closed or the item I was ordering for her is not available) I resort to something else like giving her a
handwritten ticket valid for the same thing the next day, she's usually happy about that and reminds me the next
day, ticket in hand.&lt;/p&gt;
&lt;h2&gt;We eat together&lt;/h2&gt;
&lt;p&gt;Yes, breakfast, lunch and dinner, we share and we spend those eating breaks together, having fun while cooking
(or reheating leftovers) and then making the food disappear&lt;/p&gt;
&lt;h1&gt;Things to remember&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;I've been reading everywhere "This pandemic is not a productivity contest", while this is true, it is also true
that we need to do our best to be as productive as we can, we have other colleagues relying on the work we do and,
more importantly, people relying on the services or apps we build and maintain.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Remember that kids are kids, you were a kid some time ago, so, try not to explode when things are not going the way you'd like
the best thing to do is to have a deep breath and adapt&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Remember that you're not actually working from home, we all are in a pandemic, locked at home and trying to get
work done. Don't push it too hard, you can always catch up after hours, over night or by waking up earlier than everyone
and working while everyone is asleep&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The more you apply certain techniques, the more they will tend to work in future, so be patient and persistent&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="Blog"></category><category term="time management"></category><category term="remote"></category><category term="parenting"></category></entry><entry><title>Working with databases easier</title><link href="//iffm.me/working-with-databases-easier.html" rel="alternate"></link><published>2020-04-01T00:00:00+04:00</published><updated>2020-04-01T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2020-04-01:/working-with-databases-easier.html</id><summary type="html">&lt;p&gt;This will be a short article, recently at work I had to build few reports on
top of two legacy databases, to be honest, the whole architecture and the way
the data is stored, in my opinion, is not optimal, a lot of things need to change
but, as usual …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This will be a short article, recently at work I had to build few reports on
top of two legacy databases, to be honest, the whole architecture and the way
the data is stored, in my opinion, is not optimal, a lot of things need to change
but, as usual, features and business take precedence over tech debt.&lt;/p&gt;
&lt;p&gt;The whole stack is based on nodejs on top of typescript, which makes a bit more
enjoyable the fact that I'm now working in JavaScript. All the databases were
generated using knexjs so, these databases were there already and I only had to
connect to them.&lt;/p&gt;
&lt;p&gt;I didn't want to spend too much time on the connection and mapping part, so
I wanted to see if an ORM would be of use here&lt;/p&gt;
&lt;h2&gt;The overall idea&lt;/h2&gt;
&lt;p&gt;Since we will be integrating with other internal tools to generate these reports
the implementation I came up with is temporary, so I wanted to make as few changes
as possible in the current codebase for several reasons:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Once you add something temporary, it will be difficult to clean it up
after it's not needed anymore, the chances of someone building on top of it 
is high.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I don't like working with typescript, or JavaScript in general so if I could
get away with writing in some other language it could be more fun&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The current application is a monolith and the logic is complex,
adding more would take longer than implementing something from scratch&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, I decided to implement the report generating logic in a Lambda function
which will be executed periodically, this meant I had to setup the connections
to the databases from scratch and map to my domain classes and types in order
to have a clean architecture.&lt;/p&gt;
&lt;h2&gt;Enter Sqlalchemy&lt;/h2&gt;
&lt;p&gt;Sqlalchemy is the database Swiss army knife in python, it makes it very
easy to work with databases by mapping tables to domain classes, but it also
works the other way around by introspecting the database's schema metadata and
generating stub classes to deal with them in Python.&lt;/p&gt;
&lt;h3&gt;Automap&lt;/h3&gt;
&lt;p&gt;Sqlalchemy has an Automap extension, which lets you connect to an existing database
and generate a domain model from the existing database schema and operate with it
from Python, trigger queries and use Sqlalchemy normally as if the schema was generated
by you.&lt;/p&gt;
&lt;p&gt;It's very easy and it doesn't take 30 lines of code&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sqlalchemy.ext.automap&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;automap_base&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sqlalchemy.orm&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Session&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sqlalchemy&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;create_engine&lt;/span&gt;


&lt;span class="n"&gt;DATABASE_URL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getenv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;DB_URL&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;Base&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;automap_base&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;engine&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;create_engine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;DATABASE_URL&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;session&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Session&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;engine&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;Base&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;prepare&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;engine&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;reflect&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then you can access the classes with the table name as it is in the database let's say you have a
&lt;code&gt;user_profile&lt;/code&gt; database, then you can access it as&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;Base&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;classes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;user_profile&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Trigger queries as&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;UserProfile&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Base&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;classes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;user_profile&lt;/span&gt;

&lt;span class="n"&gt;profile&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;UserProfile&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;UserProfile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;user_id&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;123123&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fist&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And you're good to go.&lt;/p&gt;
&lt;p&gt;Of course, code conventions in SQL and Python are different, if you want your code to look more pythonic
and have &lt;code&gt;Base.classes.*&lt;/code&gt; to be in PascalCase as well, you can write a function to override the table naming
when the automap is performed, it will add few lines but still below 20 lines in general&lt;/p&gt;
&lt;p&gt;It looks something like this&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;snake_to_pascal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;base&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tablename&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;capitalize&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;w&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;tablename&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;_&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Of course, that assumes your tables are named as &lt;code&gt;this_is_a_table&lt;/code&gt; and will be converted to &lt;code&gt;ThisIsATable&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;You can use that function when you call &lt;code&gt;Base.prepare&lt;/code&gt; as follows&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;Base&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;prepare&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;engine&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;reflect&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;classname_for_table&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;snake_to_pascal&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And that's it. :-)&lt;/p&gt;</content><category term="Blog"></category><category term="python"></category><category term="databases"></category><category term="sqlalchemy"></category><category term="orm"></category></entry><entry><title>Choreography and Orchestration</title><link href="//iffm.me/choreography-and-orchestration.html" rel="alternate"></link><published>2018-05-10T00:00:00+04:00</published><updated>2018-05-10T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2018-05-10:/choreography-and-orchestration.html</id><summary type="html">&lt;p&gt;On a &lt;a href="http://iffm.me/my-take-on-microservices.html"&gt;previous article&lt;/a&gt; on &lt;em&gt;microservices&lt;/em&gt;, we went through the best practices I've seen,
which doesn't mean those are the only ones, it only means that those are the ones I've seen work for me
and the ones I've tried.&lt;/p&gt;
&lt;p&gt;This time, I would like to focus on &lt;strong&gt;Choreography over …&lt;/strong&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;On a &lt;a href="http://iffm.me/my-take-on-microservices.html"&gt;previous article&lt;/a&gt; on &lt;em&gt;microservices&lt;/em&gt;, we went through the best practices I've seen,
which doesn't mean those are the only ones, it only means that those are the ones I've seen work for me
and the ones I've tried.&lt;/p&gt;
&lt;p&gt;This time, I would like to focus on &lt;strong&gt;Choreography over Orchestration&lt;/strong&gt; and &lt;strong&gt;Rely on data, not services&lt;/strong&gt; because
I feel I didn't develop enough on these ones and those are really important these are also the two &lt;em&gt;principles&lt;/em&gt; 
that will help you &lt;em&gt;avoid sync calls&lt;/em&gt;, which is usually a good practice for inter-service communication.&lt;/p&gt;
&lt;p&gt;But first:&lt;/p&gt;
&lt;h2&gt;Internal &lt;em&gt;REST&lt;/em&gt; services, why not?&lt;/h2&gt;
&lt;p&gt;Don't get me wrong, I love &lt;em&gt;REST&lt;/em&gt;, I like building &lt;em&gt;API&lt;/em&gt;s and I enjoy using a well designed one for sure, but for internal
communication I prefer to avoid it unless the communication &lt;strong&gt;needs&lt;/strong&gt; to be synchronous, there are some cases where you can't
help it and it's not always because of a bad design, sometimes the use case itself enforces that restriction.&lt;/p&gt;
&lt;p&gt;If you find yourself using network calls most of the time, something will most likely go wrong. Network is not 100% reliable
and, &lt;strong&gt;always&lt;/strong&gt; remember, &lt;em&gt;if something can fail, it will fail&lt;/em&gt;.&lt;/p&gt;
&lt;h3&gt;Increases overall response time&lt;/h3&gt;
&lt;p&gt;Take a look at the following figure: &lt;/p&gt;
&lt;p&gt;&lt;img alt="Services map" src="https://dl.dropboxusercontent.com/s/k261ik209fporvr/service_down.png"&gt;&lt;/p&gt;
&lt;p&gt;Response times are not taking into account the wait time while the downstream services
respond. This means, &lt;em&gt;service 1&lt;/em&gt; queries &lt;em&gt;service 2&lt;/em&gt;, it does &lt;em&gt;something&lt;/em&gt; and takes 10ms to respond. Also, &lt;em&gt;Service 1&lt;/em&gt; queries
&lt;em&gt;Service 3&lt;/em&gt; which queries &lt;em&gt;Service 4&lt;/em&gt; and &lt;em&gt;Service 5&lt;/em&gt;. &lt;em&gt;Service 4&lt;/em&gt; does &lt;em&gt;something&lt;/em&gt; and takes 300ms to respond and &lt;em&gt;Service 5&lt;/em&gt;
queries &lt;em&gt;Service 6&lt;/em&gt; which takes 1000ms to respond, then &lt;em&gt;Service 5&lt;/em&gt; does &lt;em&gt;something&lt;/em&gt; and takes another 1200ms to come back to
&lt;em&gt;Service 3&lt;/em&gt;, which has been waiting 2200ms to get all the data it needs to do &lt;em&gt;some stuff&lt;/em&gt; which takes 300ms. By this time,
&lt;em&gt;Service 1&lt;/em&gt; has been waiting 2500ms for all the data it needs to do a 120ms &lt;em&gt;something&lt;/em&gt; and return back to the upstream caller,
which could be another service waiting or the end user. &lt;/p&gt;
&lt;p&gt;Note that the above flow paralelizes all the needed downstream calls per service, so in this case, the total response time will be
constrained by the slowest call chain. If you were using a stack where doing multiprocessing or async programming is not an easy
option, you'll have to add up the response time for all of the downstream calls because in reality the service in question
is being blocked while waiting for the network call to finish and, only then, making the second call and blocking until it comes back
and so on.&lt;/p&gt;
&lt;p&gt;There are several ways you can keep the same setup, you can add several levels of cache in between services, you can add a timeout
to the network calls but everything comes at a cost. If you're keeping a synchronous approach to answer certain questions it's because
you need your data as fresh as possible, so, the more cache you add the more stale your data could be. You could also add a timeout to
your calls but, if one of them times out, you'll fail in responding to the upstream caller and it will look like the system is down.&lt;/p&gt;
&lt;h3&gt;What if someone is down?&lt;/h3&gt;
&lt;p&gt;Let imagine &lt;em&gt;Service 6&lt;/em&gt; is down because we had a buggy release.&lt;/p&gt;
&lt;p&gt;This means, &lt;em&gt;Service 1&lt;/em&gt; will have to wait 1500ms before returning an error upstream, you can mitigate this
with a &lt;a href="https://www.martinfowler.com/bliki/CircuitBreaker.html"&gt;circuit breaker&lt;/a&gt; approach or returning a 
cached response for the query you're trying to answer but,
again, unless you really need this to be synchronous, you'd be adding more complexity to an already complex
system.&lt;/p&gt;
&lt;p&gt;Also, what if it isn't a &lt;em&gt;read&lt;/em&gt; operation, what if we're actually &lt;em&gt;writing&lt;/em&gt; downstream and the last write fails
because of &lt;em&gt;reasons&lt;/em&gt;. You'll be half way a transaction and you'll have to deal with it somehow, either queuing that
last write and hoping &lt;em&gt;Service 6&lt;/em&gt; comes back soon or rolling back the whole transaction which would mean deleting from
the other services and returning an error, there are ways to solve this, but usually it doesn't need to be this hard.&lt;/p&gt;
&lt;h3&gt;When should I go synchronous?&lt;/h3&gt;
&lt;p&gt;In my opinion, it will depend on the use case you're implementing and how critical it is to
return the exact data at the moment the request was done, usually there's some tolerance to
return slightly stale data, but things like &lt;em&gt;credit accounting&lt;/em&gt;, &lt;em&gt;warehouse availability&lt;/em&gt; or
anything that was to do with resources being consumed in real time are good candidates for
sync calls and all the complexity they involve.&lt;/p&gt;
&lt;h2&gt;Choreography vs Orchestration&lt;/h2&gt;
&lt;p&gt;There's a good analogy in the &lt;em&gt;microservices&lt;/em&gt; world and how they handle &lt;em&gt;things&lt;/em&gt; happening
within the system, let's call those things &lt;em&gt;events&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Let's say there are two types of &lt;em&gt;events&lt;/em&gt;, those which make the system &lt;em&gt;do&lt;/em&gt; something, for example,
in an e-commerce website it could be a user bought something, and those which make the system &lt;em&gt;change&lt;/em&gt;
its status, for example, update some records in the database o send a request to another service. The
first ones, let's call them &lt;em&gt;external events&lt;/em&gt; because they're triggered by an external actor, maybe the
user or an external system consuming our API, these &lt;em&gt;external events&lt;/em&gt; are the ones triggering the second
ones, let's call them &lt;em&gt;internal events&lt;/em&gt; because it's the system updating itself. So, &lt;em&gt;external events&lt;/em&gt; trigger
&lt;em&gt;internal events&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Now, there are two ways of handling &lt;em&gt;events&lt;/em&gt;, we can either do it via &lt;em&gt;orchestration&lt;/em&gt;, where we have
a service which acts as the &lt;em&gt;master&lt;/em&gt; of the transaction, telling all the other services involved in it
what to do, what to update. Just like a Conductor does in an Orchestra, it tells all the other musicians
(services) when to play they part, how to play it and so on. The other way is more like a &lt;em&gt;choreography&lt;/em&gt;,
where given an &lt;em&gt;event&lt;/em&gt; every service knows how to handle it and how to react to it, just like dancers who
know how and where to move or what do do when a certain part of the song is played.&lt;/p&gt;
&lt;p&gt;Good architectures are a mix of both approaches and good architects know when to use either of those
depending on the business needs and the use case they're modeling. Unfortunately there's no recipe
to decide, gaining experience designing systems and making mistakes are the only way to learn, although
reading about others experience, having clear concepts on how distributed systems and networks work and
a good understanding of the problem at hand we're solving are a good starting point.&lt;/p&gt;
&lt;h2&gt;Rely on data, not services&lt;/h2&gt;
&lt;p&gt;We spoke about &lt;em&gt;low coupling and high cohesion&lt;/em&gt; in &lt;em&gt;microservices&lt;/em&gt; in a previous article, relying on
a service to be up in order for some other service to be able to do what it's supposed to do is some
form of &lt;em&gt;coupling&lt;/em&gt;, you are letting an independent system fail because another is feeling unwell.&lt;/p&gt;
&lt;p&gt;For services to be independent, every service should have a copy of the data they need to answer at least
basic queries, this doesn't mean you'll directly update the copies, you need to define which service is going
to be your &lt;em&gt;source of truth&lt;/em&gt; for a specific piece of data and perform all the write operations for it to &lt;strong&gt;that&lt;/strong&gt;
service and then, somehow, update the copies. You can rely on &lt;em&gt;internal events&lt;/em&gt; to do this, every time an
&lt;em&gt;external event&lt;/em&gt; triggers an update on the &lt;em&gt;source of truth&lt;/em&gt; for a give piece of data, you can fire up
an &lt;em&gt;internal event&lt;/em&gt; to make the services keeping a copy update their local copies.&lt;/p&gt;
&lt;p&gt;By doing this you can still serve a read-only version of the data for some use cases even if the source of
truth is down, if it's, for example, an e-commerce and the source of truth for the catalog is, for example,
the &lt;em&gt;Inventory Service&lt;/em&gt;, you can still serve the catalog even though the users won't be able to purchase
anything, they still can save them to their &lt;em&gt;wishlist&lt;/em&gt; and browse the website, this lets you gracefully
degrade your system if there are problems with some services, you just show an error message or hide the options
or have alternate workflows until the systems supporting the degraded use case are back up and running.&lt;/p&gt;
&lt;p&gt;What if a service is down and misses some updates from the source of truth?, well, depending on how you propagate
the updates, you can do several things. You can use a queuing system like &lt;em&gt;ZeroMQ&lt;/em&gt; or &lt;em&gt;RabbitMQ&lt;/em&gt; to propagate
the updates, so, if a service is down, the updates will be waiting on the queue to be consumed once the service
is up, if you're using HTTP calls, you can have your worker retry the failed requests after a &lt;em&gt;back-off&lt;/em&gt; time or
write the payload to a given location so, when the other service comes up, an &lt;em&gt;init&lt;/em&gt; script checks that location,
reads whatever is there and marks those messages as &lt;em&gt;consumed&lt;/em&gt;, there are multiple ways to deal with this problem,
most of them will depend on the technology you're using.&lt;/p&gt;
&lt;h3&gt;Eventual consistency&lt;/h3&gt;
&lt;p&gt;When you deal with distributed systems and distributed information, chances are, some copies will be stalled
for a period of time, this means, information will always be flowing through the &lt;em&gt;pipes&lt;/em&gt; of your system, the only
way you will have total consistency is if you stop writing and wait some time. Even in monolithic systems, what you
show to the user is stale most of the time, let's say, for example, a website listing used articles for sale, when
the search page is served to the user, depending on the traffic, there will be probably 10ths or hundreds of new
articles the user won't see unless they refresh the page or we have a pushing mechanism in place. So, how important is
it really to show the most updated information available to the user?, truth is, is not that critical in most cases.&lt;/p&gt;
&lt;p&gt;For building reports though, you should always query from your sources of truth, this could be tricky on a distributed
system where your source of truth varies depending on the information you're looking for and it's not a single database
where you can run a SQL query and join everything together. You could rely also on &lt;em&gt;internal events&lt;/em&gt; to build a reporting
database while the relevant events are happening instead of querying everything when a report is requested, this way you'll
always have relevant business data to produce reports on top of.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;There's no silver bullet to solve the problems that come with distributed computing, however, there are strategies
to help you discover the best way to deal with certain problems for your specific use case, try to use choreography
where possible and orchestrate the flows that need to be completely synchronous, always try to find the easiest solution,
keep in mind that sometimes the easiest way to solve a problem is the hardest to implement, but benefits will be seen
in the future, when you need to debug a failure or scale, or even extend your system with more features or plugging more
microservices in.&lt;/p&gt;
&lt;p&gt;Also, always prefer choreography and async communication when possible instead of orchestration and sync calls between
services, this doesn't mean you should avoid it at all cost as there are use cases that need that approach. A good architect
knows that the best way to solve a problem is not following strictly one and only one approach, it's combining different
concepts and ways around it and adapting them to the specific problem to achieve an efficient and elegant solution. &lt;/p&gt;
&lt;h2&gt;Recommended readings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://amzn.to/2KgY6qh"&gt;Building Microservices&lt;/a&gt; by &lt;a href="https://samnewman.io/"&gt;Sam Newman&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.martinfowler.com/bliki/CircuitBreaker.html"&gt;Circuit Breaker&lt;/a&gt; by Martin Fowler &lt;/li&gt;
&lt;li&gt;&lt;a href="https://specify.io/concepts/microservices"&gt;Introduction to Microservices&lt;/a&gt; by Oliver Wolf &lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.christianposta.com/microservices/why-microservices-should-be-event-driven-autonomy-vs-authority/"&gt;Why Microservices Should be Event Driven&lt;/a&gt; by Christian Posta &lt;/li&gt;
&lt;li&gt;&lt;a href="https://blog.bernd-ruecker.com/event-command-transformation-in-microservice-architectures-and-ddd-dd07d5eb9656"&gt;Event command transformation in microservice architectures and DDD&lt;/a&gt; by Bernd Rücker  &lt;/li&gt;
&lt;li&gt;&lt;a href="http://iffm.me/my-take-on-microservices.html"&gt;My take on Microservices&lt;/a&gt; by me :-)&lt;/li&gt;
&lt;/ul&gt;</content><category term="Blog"></category><category term="software engineering"></category><category term="microservices"></category></entry><entry><title>Bye bye dubizzle, hello Careem!</title><link href="//iffm.me/bye-bye-dubizzle-hello-careem.html" rel="alternate"></link><published>2018-03-30T00:00:00+04:00</published><updated>2018-03-30T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2018-03-30:/bye-bye-dubizzle-hello-careem.html</id><summary type="html">&lt;p&gt;I've been quiet for the last two months, I was a bit busy switching jobs, yes,
after more than three years I decided to leave &lt;em&gt;dubizzle&lt;/em&gt;, part of the &lt;em&gt;OLX&lt;/em&gt;
group and one of the biggest brands here in the United Arab Emirates, for reasons
I won't discuss in this …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've been quiet for the last two months, I was a bit busy switching jobs, yes,
after more than three years I decided to leave &lt;em&gt;dubizzle&lt;/em&gt;, part of the &lt;em&gt;OLX&lt;/em&gt;
group and one of the biggest brands here in the United Arab Emirates, for reasons
I won't discuss in this post and some reasons I'll expose here.&lt;/p&gt;
&lt;p&gt;My good friend &lt;a href="http://gerardobarcia.com/blog/"&gt;Gerardo Barcia&lt;/a&gt; used to quote a lot
a phrase which author I don't know:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Change is the only constant in our lives&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I liked that, I like to think that one needs to come out of your comfort zone from time
to time as the only way to evolve as a professional and as a human being, when change
comes to you constantly, you're done, when you can seek change easily it's also good,
you learn, you innovate, you become better you put that brain to work.&lt;/p&gt;
&lt;p&gt;That was one &lt;em&gt;the thing&lt;/em&gt; I loved about working at &lt;em&gt;dubizzle&lt;/em&gt;, it was dynamic, I got
to work on interesting projects, I got to challenge myself and it was &lt;strong&gt;GREAT!!&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;I don't know what happened or when, but things became just &lt;strong&gt;good&lt;/strong&gt; and then &lt;strong&gt;meh&lt;/strong&gt;, everything
slowed down and I didn't feel challenged anymore, in fact, I felt like I was solving the
same problem over and over and over again, I simply stopped having fun, the projects
I was working on didn't motivate me and I wasn't feeling I was having a positive impact
anymore, so, change didn't come to me, so I started looking for change, trying to be
moved to a different department or a different role and finding a lot of resistance.&lt;/p&gt;
&lt;p&gt;When you stop enjoying something, you should stop doing it and that was exactly what happened,
I stopped enjoying my job at &lt;em&gt;dubizzle&lt;/em&gt;, for several reasons but I believe this one was
the most important one, so I decided to move on. Here in the UAE, there are several big
players in the tech scene: &lt;em&gt;dubizzle&lt;/em&gt; is one of them but not the only one, there's also
&lt;em&gt;Souq&lt;/em&gt;, &lt;em&gt;Namshi&lt;/em&gt; which are e-commerce websites, &lt;em&gt;Fetchr&lt;/em&gt; which is a delivery company and
&lt;em&gt;Careem&lt;/em&gt; which is a ride-hailing company. &lt;/p&gt;
&lt;p&gt;I interviewed with several but I wanted to do
something different, I was into classifieds for too long and e-commerce I don't think is
that different, so, when the decision came down to &lt;em&gt;Fetchr&lt;/em&gt; or &lt;em&gt;Careem&lt;/em&gt;, I started digging
deeper into both companies and there was one talk by one of &lt;em&gt;Careem&lt;/em&gt; co-founders, Magnus Olsson,
that made me think, well &lt;em&gt;Fetchr&lt;/em&gt; looks like a great company, also &lt;em&gt;Careem&lt;/em&gt;, but &lt;em&gt;Careem&lt;/em&gt;
has this guy with this amazing story and the will to do something meaningful and you can
see that even in the name of the company, &lt;em&gt;Careem&lt;/em&gt; means &lt;em&gt;generosity&lt;/em&gt; in Arabic language.
So, here I am, being Careem at &lt;em&gt;Careem&lt;/em&gt; and helping &lt;em&gt;improve the people's lives and
build an organization that inspires&lt;/em&gt; one line at a time.&lt;/p&gt;
&lt;h2&gt;Recommended:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=HrSYYmaKmmo"&gt;The video&lt;/a&gt; that made me join &lt;a href="https://careem.com"&gt;Careem&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.glassdoor.com/Overview/Working-at-Dubizzle-EI_IE670451.11,19.htm"&gt;dubizzle in Glassdoor&lt;/a&gt; looks like a lot of people are not happy, I hope they course correct before it's too late&lt;/li&gt;
&lt;/ul&gt;</content><category term="Blog"></category><category term="career"></category><category term="personal"></category></entry><entry><title>What to do when linux freezes?</title><link href="//iffm.me/what-to-do-when-linux-freezes.html" rel="alternate"></link><published>2018-01-30T00:00:00+04:00</published><updated>2018-01-30T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2018-01-30:/what-to-do-when-linux-freezes.html</id><summary type="html">&lt;p&gt;Well, we all know that nothing is perfect, not even linux, it sometimes freezes.
It has happened to me several times,
my solution? well, press and hold the power button and hope for the best. &lt;/p&gt;
&lt;p&gt;Well, I was thinking &lt;em&gt;there must be a better way to do it&lt;/em&gt; and, like …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Well, we all know that nothing is perfect, not even linux, it sometimes freezes.
It has happened to me several times,
my solution? well, press and hold the power button and hope for the best. &lt;/p&gt;
&lt;p&gt;Well, I was thinking &lt;em&gt;there must be a better way to do it&lt;/em&gt; and, like most of the times, &lt;strong&gt;there is&lt;/strong&gt;. 
It's called &lt;em&gt;SysRq&lt;/em&gt; keys and it's a key combination only understood by the Linux kernel that lets you
perform some low level operations no matter the state of the system, think of it like a safe reset button.&lt;/p&gt;
&lt;p&gt;The key combination is &lt;em&gt;Ctrl + Alt + PrtSc + REISUB&lt;/em&gt;, this means, you need to press and hold &lt;em&gt;Ctrl + Alt + PrtSc&lt;/em&gt;
and while pressing that combination, you need to write &lt;em&gt;REISUB&lt;/em&gt;, each letter has one function&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;R&lt;/strong&gt; gives the kernel back the control of the keyboard from X&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;E&lt;/strong&gt; sends &lt;em&gt;SIGTERM&lt;/em&gt; to all processes, allowing them to terminate gracefully&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;I&lt;/strong&gt; sends &lt;em&gt;SIGKILL&lt;/em&gt; to all remaining processes, forcing them to terminate right away&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;S&lt;/strong&gt; flushes data to disk&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;U&lt;/strong&gt; remounts all file systems in &lt;em&gt;read-only&lt;/em&gt; mode&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;B&lt;/strong&gt; reboot!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;That way your system won't suffer any damage and it will gracefully &lt;strong&gt;R&lt;/strong&gt;eboot &lt;strong&gt;E&lt;/strong&gt;ven
&lt;strong&gt;I&lt;/strong&gt;f &lt;strong&gt;S&lt;/strong&gt;ystem &lt;strong&gt;U&lt;/strong&gt;tterly &lt;strong&gt;B&lt;/strong&gt;roken.&lt;/p&gt;
&lt;p&gt;If you need to turn off your computer instead of reboot, you
can switch &lt;strong&gt;B&lt;/strong&gt; for &lt;strong&gt;O&lt;/strong&gt;. You're welcome.&lt;/p&gt;
&lt;h2&gt;Recommended readings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Magic_SysRq_key"&gt;THIS&lt;/a&gt; Wikipedia article&lt;/li&gt;
&lt;/ul&gt;</content><category term="Blog"></category><category term="linux"></category></entry><entry><title>Django registration in no time!</title><link href="//iffm.me/django-registration-in-no-time.html" rel="alternate"></link><published>2018-01-23T00:00:00+04:00</published><updated>2018-01-23T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2018-01-23:/django-registration-in-no-time.html</id><summary type="html">&lt;p&gt;What does 99% of the projects we work on have in common?, what's usually the first or the last
thing we start working on when building something, a personal project perhaps?. If you said
&lt;em&gt;dealing with users&lt;/em&gt;, that's right. On each and every project we find ourselves writing different
registration …&lt;/p&gt;</summary><content type="html">&lt;p&gt;What does 99% of the projects we work on have in common?, what's usually the first or the last
thing we start working on when building something, a personal project perhaps?. If you said
&lt;em&gt;dealing with users&lt;/em&gt;, that's right. On each and every project we find ourselves writing different
registration or authentication flows, sometimes we use third party authentication services like
&lt;em&gt;Google&lt;/em&gt; or &lt;em&gt;facebook&lt;/em&gt; via their &lt;em&gt;API&lt;/em&gt;s, but most of the times I'd say we start by asking our user's
to register using their &lt;code&gt;email&lt;/code&gt; and a &lt;code&gt;password&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Common approaches&lt;/h2&gt;
&lt;p&gt;There are several approaches to user registration, we can do it on a single step, or we can do it on
2 steps with a confirmation email being sent to the given address. There are several ways you can structure
your registration flow, either two simple questions (&lt;code&gt;email&lt;/code&gt; and &lt;code&gt;password&lt;/code&gt;) or multiple questions through
several pages, you name it, we always write user registration flows.&lt;/p&gt;
&lt;p&gt;Is you ask me, I've always preferred to write a simple one, ask for an &lt;code&gt;email&lt;/code&gt; and a &lt;code&gt;password&lt;/code&gt; and ask for the
rest of the information I need on a separate &lt;em&gt;User Profile&lt;/em&gt; page, things like name, date of birth, country, city,
mobile number or other stuff I might need. But you want as least friction as possible on the registration process,
specially if you're trying to get your first users, that's why I don't even send confirmation emails when I just launched
something. I start asking for confirmation when I already got some users and I have people constantly signing up, otherwise,
it's not worth the effort or the network traffic, plus the complexity of sending it asynchronously with a message queue.&lt;/p&gt;
&lt;p&gt;That's why I thought of writing a reusable django app to solve this, I was working on it for a while, taking the good parts
of all the registration flows I've written, until I found &lt;code&gt;django-registration&lt;/code&gt; and just switched to that library.&lt;/p&gt;
&lt;h2&gt;Enter django-registration&lt;/h2&gt;
&lt;p&gt;This is way better that anything I could have written myself, it's being used by many people, has an active maintainer, works
out of the box and supports single and two steps registration flows so, why &lt;em&gt;reinventing the wheel&lt;/em&gt; if it's already there?,
I'm using it for a couple of personal projects I'll be in the upcoming months (or not... you know...) and it's
incredible how easy it makes it to implement user registration, allowing me to start working on actual features and functionality
in almost no time.&lt;/p&gt;
&lt;p&gt;Let's get started&lt;/p&gt;
&lt;h3&gt;Installation&lt;/h3&gt;
&lt;p&gt;To install it, you just need to &lt;code&gt;pip&lt;/code&gt; it as any usual &lt;em&gt;Python&lt;/em&gt; module&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;pip&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;install&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;django&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;registration&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;For the simple &lt;em&gt;one step&lt;/em&gt; registration flow or the &lt;em&gt;HMAC Based&lt;/em&gt; workflow, you don't need to do anything else.&lt;/p&gt;
&lt;h3&gt;Registration workflows&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;django-registration&lt;/em&gt;, supports three different workflows:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;One step:&lt;/strong&gt; this workflow consists of as few steps as possible, the user signs up by filling the registration form,
after submitting, the account is created without any intermediate verification and the user is logged in automatically.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HMAC Based:&lt;/strong&gt; it's a two steps registration workflow that doesn't store any verification key, it sends instead a
timestamped HMAC verified value to the user via email in order to verify the account.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Model based:&lt;/strong&gt; to use this workflow, you'll have to add &lt;code&gt;registration&lt;/code&gt; to your &lt;code&gt;INSTALLED_APPS&lt;/code&gt; as you will need
to install one model to perform the verification step. If you need a two steps account creation because you require email
verification, the recommended way is to use the &lt;em&gt;HMAC&lt;/em&gt; flow.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The basic &lt;em&gt;one step&lt;/em&gt; registration flow is the easiest way to register new users, if you're just deploying something for fun
and it's intended mostly for your personal use but want to allow other people to use it, I don't think you need to verify
email and go through all that hassle unless you get serious about it, so in my case, the intended user for my project is just myself,
but if someone else wants to use it, I'm OK with that, I assume if you want to use something you'll just provide a legit email
because it's on your own interest.&lt;/p&gt;
&lt;h3&gt;Settings everything up&lt;/h3&gt;
&lt;p&gt;I decided to go for a &lt;em&gt;one step&lt;/em&gt; flow, as I don't really care if anyone provides an nonexistent email, I'm the one who will mostly
be using this, so, I guess it's OK, &lt;em&gt;django-registration&lt;/em&gt; allows me to restrict new accounts from being created just by adding 
&lt;code&gt;REGISTRATION_OPEN = False&lt;/code&gt; on my &lt;code&gt;settings.py&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;Each registration flow comes with its own set of views and urls and you'll have to create your custom template and form if you needed,
you'll most probably end up customizing some behavior, but it's really easy to do, most of the core, boring and repetitive work
of creating the registration workflow is done for you and works out of the box.&lt;/p&gt;
&lt;p&gt;In this case, for the &lt;em&gt;one step&lt;/em&gt; all I had to do was the following:&lt;/p&gt;
&lt;p&gt;1.- Include &lt;code&gt;registration.backends.simple.urls&lt;/code&gt; in my urls configuration&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.conf.urls&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.conf.urls&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;include&lt;/span&gt;

&lt;span class="n"&gt;urlpatterns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="c1"&gt;# Some url patterns&lt;/span&gt;
    &lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;accounts/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;include&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;registration.backends.simple.urls&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
    &lt;span class="c1"&gt;# More url patterns&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;2.- Set &lt;code&gt;REGISTRATION_OPEN = True&lt;/code&gt;, this is the default value, but &lt;em&gt;better explicit than implicit&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;3.- By default, after successful registration the user will be redirected to &lt;code&gt;/&lt;/code&gt;, but you can customize this behavior by
subclassing &lt;code&gt;registration.backends.simple.views.RegistrationView&lt;/code&gt; and overriding the method &lt;code&gt;get_success_url()&lt;/code&gt;, in my case,
redirecting to &lt;code&gt;/&lt;/code&gt; is fine.&lt;/p&gt;
&lt;p&gt;4.- By default, &lt;em&gt;django-registration&lt;/em&gt; will use &lt;code&gt;registration.forms.RegistrationForm&lt;/code&gt;, this can be overridden by supplying your
own &lt;code&gt;form_class&lt;/code&gt; argument when adding the default &lt;code&gt;RegistationView&lt;/code&gt; to the &lt;code&gt;urlpatterns&lt;/code&gt; or by subclassing it and setting the &lt;code&gt;form_class&lt;/code&gt;
attribute or implementing &lt;code&gt;get_form_class()&lt;/code&gt;. In my case, I opted for passing an argument to the &lt;code&gt;as_view()&lt;/code&gt; method when addind the
corresponding &lt;code&gt;url&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;registration.backends.simple.views&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;RegistrationView&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.conf.urls&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.conf.urls&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;include&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;.forms&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;UserRegistrationForm&lt;/span&gt;


&lt;span class="n"&gt;urlpatterns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="c1"&gt;# Some url patterns&lt;/span&gt;
    &lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;accounts/register/$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;RegistrationView&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;as_view&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;form_class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;UserRegistrationForm&lt;/span&gt;
    &lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;accounts/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;include&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;registration.backends.simple.urls&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
    &lt;span class="c1"&gt;# More url patterns&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;5.- Customize the registration template, this flow only needs one template called &lt;code&gt;registration/registration_form.html&lt;/code&gt; and it will
pick it up automatically, the &lt;code&gt;RegistrationView&lt;/code&gt; will add the &lt;code&gt;form&lt;/code&gt; variable to the &lt;code&gt;context&lt;/code&gt; and it will contain a &lt;code&gt;RegistrationForm&lt;/code&gt; instance,
all for free.&lt;/p&gt;
&lt;h2&gt;Recommended readings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://django-registration.readthedocs.io/en/2.4.1/index.html"&gt;&lt;em&gt;django registration&lt;/em&gt; docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Django docs on &lt;a href="https://docs.djangoproject.com/en/2.0/topics/class-based-views/"&gt;class based views&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="Blog"></category><category term="python"></category><category term="django"></category><category term="tutorial"></category><category term="registration"></category></entry><entry><title>Making django scale Pt.2</title><link href="//iffm.me/making-django-scale-pt2.html" rel="alternate"></link><published>2017-12-24T00:00:00+04:00</published><updated>2017-12-24T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2017-12-24:/making-django-scale-pt2.html</id><summary type="html">&lt;p&gt;It's been a while since the &lt;a href="/making-django-scale-pt1.html"&gt;first post&lt;/a&gt; about scaling web applications using &lt;em&gt;django&lt;/em&gt;, last time we
spoke about some basic concepts about scalability, buzz words we hear everyday and we also use but
always struggle when we need to give a formal definition to someone.&lt;/p&gt;
&lt;p&gt;Once we have clear …&lt;/p&gt;</summary><content type="html">&lt;p&gt;It's been a while since the &lt;a href="/making-django-scale-pt1.html"&gt;first post&lt;/a&gt; about scaling web applications using &lt;em&gt;django&lt;/em&gt;, last time we
spoke about some basic concepts about scalability, buzz words we hear everyday and we also use but
always struggle when we need to give a formal definition to someone.&lt;/p&gt;
&lt;p&gt;Once we have clear basic concepts about scalability, performance and we are familiar with the Pareto
Principle, we are ready to start optimizing and improving our system's performance, right?. Not so fast
cowboy!, if you remember the Pareto Principle most of the negative performance impact is coming for 20%
of the negative impacters. We need to manage somehow to solve that 20% so we are sure we are making a
significant improvement.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;You can't manage what you don't measure&lt;/em&gt; - Peter Ducker&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This means, we need to gain visibility inside our system to be able to detect those bottlenecks and 
work on solving or easing them. For that, we will need a set of tools to monitor and profile our
application.&lt;/p&gt;
&lt;h2&gt;The tools&lt;/h2&gt;
&lt;p&gt;There are a lot of monitoring tools for Linux and for &lt;em&gt;django&lt;/em&gt; out there, you can use the ones you like
the most, but I'm going to showcase some here as a starting point. I'm not going to go deep into how to
install them and set them up or customize them because it's out of the scope of this post, but I might
post some individual howtos later, here I'll just point you to the corresponding documentation.&lt;/p&gt;
&lt;h3&gt;django debug toolbar&lt;/h3&gt;
&lt;p&gt;This is my all time favorite, it's a pip-installable module for &lt;em&gt;django&lt;/em&gt; and you'll need to add some
settings variables and a template tag and you're done.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Image of django-debug-toolbar" src="https://dl.dropboxusercontent.com/s/bykbb9iryv1m6io/django_debug_toolbar.png"&gt;&lt;/p&gt;
&lt;p&gt;As you can see on the screenshot it will give you a lot of relevant information about what happened under
the hood to serve that request, it will tell you the missed cache hits, which static files and templates
are being served, the current request headers and request parameters but my favorite feature is the SQL viewer,
it will show you the queries that ran on that view, with a timeline and their run time so you get to see
which ones are taking long time and take action, it gives you also the option to see an &lt;code&gt;EXPLAIN&lt;/code&gt; of the query
to check what the query planner did.&lt;/p&gt;
&lt;p&gt;To install it and use it, you can refer to the &lt;a href="https://django-debug-toolbar.readthedocs.io/en/stable/"&gt;official docs&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;vprof&lt;/h3&gt;
&lt;p&gt;This is a visual profiler for &lt;em&gt;Python&lt;/em&gt;, although it isn't made for &lt;em&gt;django&lt;/em&gt;, you can plug it in and take advantage
of all the cool graphs it will draw for you out of the box.&lt;/p&gt;
&lt;p&gt;A profiler will measure how your code is behaving and tell you where the hot points are as well as your call
stack, vprof will give you an insight also on how much memory your program is consuming so it's easier to detect
memory leaks.&lt;/p&gt;
&lt;p&gt;Here are some of the graphs &lt;em&gt;vprof&lt;/em&gt; will produce for you&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Flame diagram to allow you see your function call stack
&lt;img alt="*vprof* flame diagram" src="https://dl.dropboxusercontent.com/s/lvi3sxxhgmjccax/vprof_flame_diagram.png"&gt;&lt;/li&gt;
&lt;li&gt;Memory profiler
&lt;img alt="*vprof* memory profiler" src="https://dl.dropboxusercontent.com/s/zv1o87ebms7humr/vprof_mem_profiler.png"&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To set it up you can refer to the &lt;a href="https://github.com/nvdv/vprof"&gt;official docs&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;CProfile&lt;/h3&gt;
&lt;p&gt;Setting up &lt;em&gt;vprof&lt;/em&gt; for &lt;em&gt;django&lt;/em&gt; might be tricky depending of your application architecture and setup, &lt;em&gt;CProfile&lt;/em&gt; is
pretty much the defacto standard on &lt;em&gt;Python&lt;/em&gt; profilers, it will produce an output on an standard format you can plug into
any profiling reporting tool such as &lt;em&gt;SnakeViz&lt;/em&gt; to produce cool graphs that will help you understand what's going on.&lt;/p&gt;
&lt;p&gt;You can easily set it up in &lt;em&gt;django&lt;/em&gt; by using &lt;em&gt;&lt;a href="https://github.com/omarish/django-cprofile-middleware"&gt;django-cprofile-middleware&lt;/a&gt;&lt;/em&gt; 
this app will also add one endpoint any
&lt;em&gt;staff&lt;/em&gt; user can hit to get data about the performance and, also, &lt;em&gt;CProfile&lt;/em&gt; can produce an output file you can
pipe into &lt;em&gt;&lt;a href="http://jiffyclub.github.io/snakeviz/"&gt;SnakeViz&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This is how &lt;em&gt;SnakeViz&lt;/em&gt; graphs would look like:&lt;/p&gt;
&lt;p&gt;&lt;img alt="*SnakeViz* list view" src="https://dl.dropboxusercontent.com/s/0uxf12rxx562t6z/snake_list_view.png"&gt;
&lt;img alt="*SnakeViz* sunburst diagram" src="https://dl.dropboxusercontent.com/s/hx9cfdxvn1dqq4o/snake_sun_diagram.png"&gt;&lt;/p&gt;
&lt;h3&gt;StatsD&lt;/h3&gt;
&lt;p&gt;This is an external stats collecting system built by &lt;em&gt;Etsy&lt;/em&gt;, they &lt;a href="https://codeascraft.com/2011/02/15/measure-anything-measure-everything/"&gt;blogged&lt;/a&gt;
about it and how it works and it's also &lt;a href="https://github.com/etsy/statsd"&gt;open source&lt;/a&gt;, you can set it up in &lt;em&gt;django&lt;/em&gt; through a third
party app called &lt;a href="http://django-statsd.readthedocs.io/en/latest/"&gt;django-statsd&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Using this is a bit manual, you will need to send out your stats the same way you use log statements to add entries
with messages about what your system is going. In this case what StatsD will do is keep a log on counts and timing
of the events you are sending stats about.&lt;/p&gt;
&lt;p&gt;The coolest thing about &lt;em&gt;StatsD&lt;/em&gt; is that you can set it up to periodically flush data to &lt;a href="http://graphiteapp.org/"&gt;&lt;em&gt;Graphite&lt;/em&gt;&lt;/a&gt;
where you can then produce this kind of graphs on top of &lt;em&gt;StatsD&lt;/em&gt;'s data&lt;/p&gt;
&lt;p&gt;&lt;img alt="*Graphite* dashboard" src="https://dl.dropboxusercontent.com/s/mns9m1htvqvxr5k/graphite.jpg"&gt;&lt;/p&gt;
&lt;h3&gt;Use the logging subsystem&lt;/h3&gt;
&lt;p&gt;Logging can save you a lot of time if you do it right, it can also clutter your code with &lt;code&gt;logger.info()&lt;/code&gt; statements everywhere
if you over do it, you need to log everything so you know what your app is doing at each step of the different processes it performs,
but log even more on the critical ones.&lt;/p&gt;
&lt;p&gt;These log files need to go somewhere, maybe you're familiar with &lt;a href="https://syslog-ng.org/"&gt;syslog&lt;/a&gt; to concentrate your logs in a single server so you
have only one place to go when you need to do some text-processing-fu with &lt;code&gt;sed&lt;/code&gt;, &lt;code&gt;awk&lt;/code&gt;, &lt;code&gt;sort&lt;/code&gt; and &lt;code&gt;grep&lt;/code&gt;, but as your system grows
and also the amount of different loggers storing messages, it will get trickier and trickier to keep track of every action across
all the different modules of your system, an &lt;em&gt;ELK&lt;/em&gt; system can help you to ease the search through your log files and also generate
reports and graphs on top of your log data using &lt;em&gt;Kibana&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;You can read more about the &lt;em&gt;ELK&lt;/em&gt; or &lt;em&gt;Elastic&lt;/em&gt; stack &lt;a href="https://www.elastic.co/webinars/introduction-elk-stack"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;newrelic&lt;/h3&gt;
&lt;p&gt;If you have some budget to invest on this, &lt;a href="http://newrelic.com"&gt;&lt;em&gt;newrelic&lt;/em&gt;&lt;/a&gt; will give you most of these features
out of the box just by installing and setting up their &lt;em&gt;Python&lt;/em&gt; tracker, it will start pushing data to &lt;em&gt;newrelic&lt;/em&gt; and
you can see your system's performance in real time, it will show you data such as the average response time as well as
response time in percentiles, average throughput, average error rate, error data and even transaction data like the one
you get from &lt;em&gt;django-debug-toolbar&lt;/em&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;newrelic&lt;/em&gt;'s main dashboard
&lt;img alt="*newrelic* main dashboard" src="https://dl.dropboxusercontent.com/s/zs0m9ozgktnhl1n/newrelic_main.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Transactions dashboard
&lt;img alt="*newrelic* transactions dashboard" src="https://dl.dropboxusercontent.com/s/vuxlqnexow0srj8/newrelic_transactions.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Errors dashboard
&lt;img alt="*newrelic* errors dashboard" src="https://dl.dropboxusercontent.com/s/iw0zhoum8hv60xw/newrelic_errors.png"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you have the budget, &lt;em&gt;newrelic&lt;/em&gt; is a &lt;em&gt;no-brainer&lt;/em&gt; it will be a valuable tool for you and your team and save you
a lot of time when you need to debug a live issue.&lt;/p&gt;
&lt;h2&gt;Final words&lt;/h2&gt;
&lt;p&gt;Before you even think of optimizing anything, you need to measure, there is no point in blindly going through the
code and, for example, indexing fields in your models if you don't know the impact of that, if any at all. The tools
mentioned here are not a definitive guide to profiling &lt;em&gt;django&lt;/em&gt; applications but they provide a nice starting point
to begging playing with them and choosing which ones work for you and which ones doesn't so you can improve your
tool belt, your stack and the quality of the products you're building.&lt;/p&gt;
&lt;p&gt;Monitoring and measuring shouldn't be an optional thing, it should be there if not since day one, at least added within
the first months of life of your project, that's the only way you get to see inside your application, detect bottlenecks
and potential bugs, debug them, measure their impact, prioritize them and be sure that by rolling out the optimizations
you will have an improvement of ~X percent in your performance.&lt;/p&gt;</content><category term="Blog"></category><category term="Python"></category><category term="django"></category><category term="scaling"></category></entry><entry><title>We always evolve</title><link href="//iffm.me/we-always-evolve.html" rel="alternate"></link><published>2017-12-14T00:00:00+04:00</published><updated>2017-12-14T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2017-12-14:/we-always-evolve.html</id><summary type="html">&lt;p&gt;I've been going through code I wrote about two or maybe three years ago while cleaning up my working directory
and archiving old stuff and, I must say: what the hell did I have in my head by that time?, for real, there are
things that are over-engineered, very complicated …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've been going through code I wrote about two or maybe three years ago while cleaning up my working directory
and archiving old stuff and, I must say: what the hell did I have in my head by that time?, for real, there are
things that are over-engineered, very complicated solutions to simple problems, sub-optimal or inefficient code,
a lot of spaghetti code, highly coupled modules (or django apps), all of this to say the least.&lt;/p&gt;
&lt;p&gt;I know, maybe, in a couple of months (or years) I'll go through the code I wrote today, or yesterday and say the
same thing &lt;em&gt;oh my god! was I stupid or what?&lt;/em&gt;, but I believe this is part of every craftsmanship job like software
engineering, graphic design, cooking and even music. You come out of school with the knowledge, but only experience
doing what you're trained to do will give you elegant practices and make you a good professional.&lt;/p&gt;
&lt;p&gt;The best way to evolve is to &lt;strong&gt;never stop learning&lt;/strong&gt;, read a lot of technical stuff, also master your &lt;strong&gt;soft skills&lt;/strong&gt;,
I wrote it bold because they're as important as your technical ones, try out new ways of doing things, programming
paradigms, new programming languages, new tools to add to your stack and adopt better practices or ease some
pains in your development, testing or deploy process, perhaps your company's or your employer's processes. Only by
learning and gaining knowledge and then putting it in practice you will gain experience and know what works, what doesn't
work and what work betters under some conditions.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Knowledge is of no value unless you put it into practice.
— Anton Chekhov&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You might be asking what made me reflect on this, well, some time ago I wrote about &lt;a href="the-evilness-of-none.html"&gt;&lt;em&gt;The evilness of None&lt;/em&gt;&lt;/a&gt; and
how it is a bad practice to &lt;code&gt;return None&lt;/code&gt; or &lt;code&gt;return null&lt;/code&gt; from functions when you're expecting the output to meet
certain requirements (internal link). Since I wrote that, I've been going through old projects checking how common
this pattern was on my code and, unsurprisingly, I found some other bad practices.&lt;/p&gt;
&lt;p&gt;So, if checking old code and surprising myself with &lt;em&gt;how stupid I was&lt;/em&gt; is something that happens often, it is a good
thing, it means I've learned something I didn't know by the time I wrote that code. So, always move forward but,
from time to time, check backwards not to adopt bad old habits, but to see how much you've learned and also if there's
anything you need to fix on a project you're maintaining.&lt;/p&gt;</content><category term="Blog"></category><category term="software engineering"></category><category term="career"></category><category term="personal"></category></entry><entry><title>My take on microservices</title><link href="//iffm.me/my-take-on-microservices.html" rel="alternate"></link><published>2017-11-30T00:00:00+04:00</published><updated>2017-11-30T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2017-11-30:/my-take-on-microservices.html</id><summary type="html">&lt;p&gt;There's been a lot of stuff going on these days on &lt;em&gt;Software Engineering&lt;/em&gt;, it's hard to catch up on everything 
I would like to. I try to go one topic at a time and now, also because we are working with this at the office,
I'm hooked into microservices.&lt;/p&gt;
&lt;p&gt;Microservices …&lt;/p&gt;</summary><content type="html">&lt;p&gt;There's been a lot of stuff going on these days on &lt;em&gt;Software Engineering&lt;/em&gt;, it's hard to catch up on everything 
I would like to. I try to go one topic at a time and now, also because we are working with this at the office,
I'm hooked into microservices.&lt;/p&gt;
&lt;p&gt;Microservices is a new word for an old concept, a concept I thought I will never see or play with in real life 
back in my University years, I remember my &lt;em&gt;Software Engineering&lt;/em&gt; and &lt;em&gt;Distributed Systems&lt;/em&gt; professors talking
about web services and &lt;em&gt;API&lt;/em&gt;s and huge systems at IBM,
Sun Microsystems and Oracle, SOAP and REST interfaces and how they interacted with each other and, also, the mighty
Enterprise Service Bus with producers and consumers in Java, BPEL and C#, a very abstract
concept for me to grasp at that time and I thought &lt;strong&gt;the only place&lt;/strong&gt; you could see that was working at &lt;strong&gt;huge&lt;/strong&gt;, corporate
companies like the ones I mentioned above.&lt;/p&gt;
&lt;p&gt;Nowadays, &lt;strong&gt;any&lt;/strong&gt; internet &lt;em&gt;startup&lt;/em&gt; can grow at a &lt;strong&gt;huge scale&lt;/strong&gt; and you can play around with this kind of technologies 
if you're lucky enough to be part of one of those projects.&lt;/p&gt;
&lt;p&gt;I was lucky to be part of the &lt;em&gt;dubizzle&lt;/em&gt; team, a classifieds website that operates at a &lt;strong&gt;massive scale&lt;/strong&gt; here in the middle east,
the architecture is a huge legacy &lt;strong&gt;monolithic application&lt;/strong&gt; with all of the core functionality and several services surrounding this legacy app.
These services are, in my opinion, mostly &lt;strong&gt;poorly integrated&lt;/strong&gt; and fault tolerance &lt;strong&gt;is not the rule&lt;/strong&gt;, sometimes error responses
are silenced and bypassed which is quite bad. Also, the integration goes over &lt;em&gt;HTTP&lt;/em&gt;, which could be very unreliable
even within the internal network and gives you a lot of headaches when you need to
integrate more and more services. But the whole point of migrating to &lt;em&gt;microservices&lt;/em&gt; is to solve all those issues and have a better
engineered platform to keep both product and tech as happy as possible and be able to move faster at the same time.&lt;/p&gt;
&lt;p&gt;We dedicated some time now to study &lt;strong&gt;best practices&lt;/strong&gt; for implementing a microservices based architecture and built some proof of concepts and
deployed one of them to production here are some of my key learning and good practices taken from what I've read and personal experience actually
building stuff at &lt;em&gt;dubizzle&lt;/em&gt; and playing around with technology on my personal projects.&lt;/p&gt;
&lt;h2&gt;APIs should be business bounded&lt;/h2&gt;
&lt;p&gt;It's a common mistake to build &lt;em&gt;API&lt;/em&gt;s as simple &lt;em&gt;CRUD&lt;/em&gt; interfaces for &lt;em&gt;domain entities&lt;/em&gt;.
This means, all the &lt;em&gt;business logic&lt;/em&gt; must be written and rewritten in the &lt;em&gt;clients&lt;/em&gt;, so, if you have, for instance, a &lt;em&gt;web client&lt;/em&gt;,
a &lt;em&gt;desktop application&lt;/em&gt;, an &lt;em&gt;Android&lt;/em&gt; and an &lt;em&gt;iPhone&lt;/em&gt; mobile apps, well, you can count yourself
how many times you'll have to write the &lt;em&gt;business logic&lt;/em&gt; surrounding those &lt;em&gt;data models&lt;/em&gt; with a &lt;em&gt;CRUD API&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;You have to build your API to encapsulate business processes, not just the objects creation and manipulation, so a single &lt;em&gt;API&lt;/em&gt; call,
triggers all the needed processes to fulfill the request or the query the client just gave to the server.&lt;/p&gt;
&lt;h2&gt;Services must be independent units&lt;/h2&gt;
&lt;p&gt;This means, &lt;strong&gt;you must think&lt;/strong&gt; of each &lt;em&gt;microservice&lt;/em&gt; as a project or a &lt;em&gt;product&lt;/em&gt; on its own, this means each &lt;em&gt;service&lt;/em&gt; 
has its own &lt;em&gt;box&lt;/em&gt; and its own &lt;em&gt;release pipeline&lt;/em&gt; and its own &lt;em&gt;life cycle&lt;/em&gt;, but also, they don't rely on each other to function.
This means, if your &lt;em&gt;invoicing service&lt;/em&gt; is down, your &lt;em&gt;payment service&lt;/em&gt;
&lt;strong&gt;don't need to suffer&lt;/strong&gt; because of this, you can always accept payments from your users and send the invoices later,
when your &lt;em&gt;invoicing service&lt;/em&gt; comes up again.&lt;/p&gt;
&lt;h2&gt;Rely on data, not services&lt;/h2&gt;
&lt;p&gt;In the previous example you might be thinking "dude, but if the &lt;em&gt;invoicing service&lt;/em&gt; is down when the &lt;em&gt;payment service&lt;/em&gt; hits it, how will it know
it needs to send an invoice to a user?". Well, you need some way to let it know once it wakes up, some &lt;em&gt;data sharing&lt;/em&gt; mechanism like a shared
database (which is in general a bad idea because it creates &lt;em&gt;coupling&lt;/em&gt; between our services) or some sort of &lt;em&gt;caching&lt;/em&gt; on the services that needs
to &lt;em&gt;consume&lt;/em&gt; that data.&lt;/p&gt;
&lt;p&gt;In our example, we could make the &lt;em&gt;payment service&lt;/em&gt; and the &lt;em&gt;invoicing service&lt;/em&gt; share the same database, or, have a good separation of
concerns and lower the &lt;em&gt;coupling&lt;/em&gt; and, since &lt;em&gt;invoicing&lt;/em&gt; needs to know about &lt;em&gt;payments&lt;/em&gt; but, &lt;em&gt;payments&lt;/em&gt; have no need to know about &lt;em&gt;invoicing&lt;/em&gt;,
we can just have a &lt;em&gt;caching&lt;/em&gt; mechanism in place in our &lt;em&gt;invoicing service&lt;/em&gt; and have a copy of the needed data about &lt;em&gt;payments&lt;/em&gt; in order
to generate &lt;em&gt;invoices&lt;/em&gt;, of course, this will add some complexity to our system because we need to be fault tolerant and make sure the data
still reaches the &lt;em&gt;cache&lt;/em&gt; if the &lt;em&gt;invoicing service&lt;/em&gt; is down and we need to put some cache update processes in order to keep it up to date.&lt;/p&gt;
&lt;h2&gt;High cohesion, low coupling&lt;/h2&gt;
&lt;p&gt;This is a principle borrowed from &lt;em&gt;Object Oriented Programming&lt;/em&gt;, let's remember what they mean&lt;/p&gt;
&lt;h3&gt;Coupling&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;coupling&lt;/strong&gt; is the degree of interdependence between software modules.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Wikipedia&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;This means, if two &lt;em&gt;modules&lt;/em&gt;, &lt;em&gt;functions&lt;/em&gt; or &lt;em&gt;services&lt;/em&gt; rely too much on each other, chances are if I make a change on one, I'll have to make
a change on the other one to compensate, this makes our code and architecture less orthogonal, which means exactly that, a change in one
part of the system, will affect other unrelated parts, just like driving a helicopter.&lt;/p&gt;
&lt;h3&gt;Cohesion&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;cohesion&lt;/strong&gt; refers to the degree to which the elements inside a module belong together.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Wikipedia&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;This means, it's a measure of how much the &lt;em&gt;elements&lt;/em&gt; inside a &lt;em&gt;module&lt;/em&gt; belong together, not necessarily they rely on each other, but they
all &lt;strong&gt;work together&lt;/strong&gt; towards a common objective.&lt;/p&gt;
&lt;p&gt;In general &lt;em&gt;cohesion&lt;/em&gt; is increased if:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;All the &lt;em&gt;elements&lt;/em&gt; in the &lt;em&gt;module&lt;/em&gt; have much in common. This means, access the same set of data, for example.&lt;/li&gt;
&lt;li&gt;The &lt;em&gt;elements&lt;/em&gt; in the &lt;em&gt;module&lt;/em&gt; carry out a &lt;strong&gt;small&lt;/strong&gt; number of &lt;strong&gt;related&lt;/strong&gt; activities. This means, each member of the
module does one and only one thing related to the task without side effects  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;By keeping &lt;strong&gt;related functionality&lt;/strong&gt; together, we are automatically increasing &lt;em&gt;cohesion&lt;/em&gt; and lowering &lt;em&gt;coupling&lt;/em&gt;, and this is exactly
what we want.&lt;/p&gt;
&lt;h3&gt;What does this mean in microservices?&lt;/h3&gt;
&lt;p&gt;Well, it's easy to think of &lt;em&gt;coupling&lt;/em&gt; and &lt;em&gt;cohesion&lt;/em&gt; withing the same computer program or the same code base, but in &lt;em&gt;microservices&lt;/em&gt; this
means exactly the same, &lt;strong&gt;keep related functionality together&lt;/strong&gt; so you don't have that logic spread all over the place and duplicated
in more than one service. This also mean, keep services using similar or related data together, either logically or physically.&lt;/p&gt;
&lt;h2&gt;One hit, one transaction&lt;/h2&gt;
&lt;p&gt;This means, avoid distributed transaction at all costs, they are difficult to implement and even more difficult to debug if something
goes wrong, ideally one &lt;em&gt;write&lt;/em&gt; operation to your system should directly affect &lt;strong&gt;one&lt;/strong&gt; service, what happens &lt;em&gt;offline&lt;/em&gt; could be a different
story. For example, we could have our &lt;em&gt;payments service&lt;/em&gt; which deals with a third party payment gateway to charge our users' credit cards,
to keep things under &lt;em&gt;Single Responsibility Pattern&lt;/em&gt; (SRP), we will have a separate &lt;em&gt;invoicing service&lt;/em&gt; which handles generating and
sending invoices to the users (I know, we could separate things even more by having a separate &lt;em&gt;notification service&lt;/em&gt; that handles
sending the emails but let's keep it at this level for the sake of simplicity). &lt;/p&gt;
&lt;p&gt;So, the only thing my client needs to know is &lt;em&gt;I need to make a payment&lt;/em&gt;, whatever happens afterwards it's not my client's problem, it
only needs to hit the &lt;em&gt;payments service&lt;/em&gt; with the needed &lt;em&gt;payload&lt;/em&gt; and get the response to show it to the user. What happens under the hood
is my &lt;em&gt;payments service&lt;/em&gt;'s problem, it needs to &lt;em&gt;somehow&lt;/em&gt; notify the &lt;em&gt;invoicing service&lt;/em&gt; that it needs to email an invoice to a specific
user, this has to happen &lt;em&gt;offline&lt;/em&gt;, either we start a separate &lt;em&gt;thread&lt;/em&gt; or use a message queue for it and we notify either generating an
&lt;em&gt;event&lt;/em&gt; or via an &lt;em&gt;HTTP&lt;/em&gt; call, but this needs to happen offline and be fault tolerant so we don't keep the &lt;em&gt;client&lt;/em&gt; waiting for something
that is &lt;em&gt;our&lt;/em&gt; internal process, as well as updating the inventory, generating accounting ledger entries, etc.&lt;/p&gt;
&lt;h2&gt;Choreography over orchestration&lt;/h2&gt;
&lt;p&gt;This is, to me, one of the most important best practices I've learned then it comes to microservices oriented architecture, when we think of
distributed transactions we often have some sort of &lt;em&gt;director&lt;/em&gt; or &lt;em&gt;conductor&lt;/em&gt;, which is the service that initiated the transaction, it will
know, what needs to happen and in which order, also, it will be the responsible to roll everything back if any part of the transaction fails,
transactions need to be &lt;em&gt;Atomic&lt;/em&gt;, right?. This is a very dangerous approach because, if something goes wrong while performing the transaction,
nothing can guarantee something won't happen while rolling it back, leaving the system in an inconsistent state and giving us lots of
headaches down the road when having to debug some weird behavior in our system.&lt;/p&gt;
&lt;p&gt;The best way to implement these kind of &lt;em&gt;distributed&lt;/em&gt; transactions, i.e., business processes that need to update more than one service
is through &lt;em&gt;Choreography&lt;/em&gt;, if you think about a &lt;em&gt;choreography&lt;/em&gt;, there's no &lt;em&gt;conductor&lt;/em&gt;, everyone knows what they need to do, where they
need to go, the only signal is the music. This means, in &lt;em&gt;microservices&lt;/em&gt;, we just need to &lt;em&gt;notify&lt;/em&gt; everyone &lt;em&gt;something&lt;/em&gt; happened, and
the concerning &lt;em&gt;services&lt;/em&gt; will react accordingly, either updating their database, emitting another &lt;em&gt;event&lt;/em&gt; or sending a notification to
the user.&lt;/p&gt;
&lt;p&gt;In order to properly implement &lt;em&gt;choreography&lt;/em&gt; we need to build &lt;em&gt;resilient&lt;/em&gt; services by putting in place fault tolerance logic or processes
so, if some service fails to react, it can heal itself or someone gets notified.&lt;/p&gt;
&lt;h2&gt;Don't rely on HTTP&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://en.wikipedia.org/wiki/L._Peter_Deutsch"&gt;Peter Deutsch&lt;/a&gt; and &lt;a href="https://en.wikipedia.org/wiki/James_Gosling"&gt;James Gosling&lt;/a&gt; wrote about the
&lt;em&gt;8 fallacies of distributed computing&lt;/em&gt; and the first one was&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The network is reliable&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;A million things can happen when you rely on the network, maybe the requests times out, maybe there's a broken link, maybe subnet permissions
were changed maybe the host we are trying to reach is unavailable, maybe a rat ate a network cable, lots of things can happen and we are
not in control of all of them, even withing our own private network.&lt;/p&gt;
&lt;p&gt;What I'd recommend instead is to have a &lt;em&gt;communication layer&lt;/em&gt; in the form of a &lt;em&gt;message bus&lt;/em&gt;, it can be a &lt;em&gt;queue&lt;/em&gt; like 
&lt;a href="https://www.rabbitmq.com/"&gt;RabbitMQ&lt;/a&gt; or a &lt;em&gt;data streaming pipeline&lt;/em&gt; like &lt;a href="https://kafka.apache.org/"&gt;Apache Kafka&lt;/a&gt;
of course there will be a bit of network communication between your services and the communication
layer, or your services and the database system, but that's being taken care of by the corresponding drivers or libraries or deal with those,
so, you can assume they're fault tolerant and the data will reach its destination.&lt;/p&gt;
&lt;p&gt;There will be cases where you can't avoid rely on &lt;em&gt;HTTP&lt;/em&gt; or any network protocol, for example, you need to serve your website somehow, and
you need to query your services somehow too, so, in this case I'd recommend to go for a &lt;em&gt;REST API&lt;/em&gt; or whatever protocol you prefer for external
communication (third party services and &lt;em&gt;client-server&lt;/em&gt;) and using a &lt;em&gt;message bus&lt;/em&gt; for inter-service communication.&lt;/p&gt;
&lt;h3&gt;A note about the fallacies&lt;/h3&gt;
&lt;p&gt;Some people will say that the &lt;em&gt;8 fallacies of distributed computing&lt;/em&gt; are obsolete nowadays because there are tools already that handle
everything for us, replication, secure networking, authentication, networks are sophisticated so, latency is not a problem anymore but,
just because &lt;em&gt;someone&lt;/em&gt; is taking care of &lt;em&gt;something&lt;/em&gt; for us, doesn't mean that &lt;em&gt;something&lt;/em&gt; isn't there, imagine building a system without
these tools, you'll have to face them anyways, besides, there are countries where the computer networks are not as good as in the US or
Europe for example, so, I wouldn't say these &lt;em&gt;fallacies&lt;/em&gt; are becoming irrelevant. Even if you're not implementing replication or security
yourself, you need to think about it and use &lt;em&gt;something&lt;/em&gt; that handles that for you.&lt;/p&gt;
&lt;h2&gt;Recommended readings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://amzn.to/2AkhBdU"&gt;Building Microservices&lt;/a&gt; by &lt;a href="http://samnewman.io/"&gt;Sam Newman&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://amzn.to/2Am0eZW"&gt;RESTful API Design: Best Practices in API Design with REST&lt;/a&gt; by &lt;a href="https://twitter.com/mattbiehl"&gt;Matthias Biehl&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://amzn.to/2ngI1dI"&gt;The Pragmatic Programmer&lt;/a&gt; by &lt;a href="https://en.wikipedia.org/wiki/Dave_Thomas_(programmer)"&gt;David Thomas&lt;/a&gt; and 
&lt;a href="https://en.wikipedia.org/wiki/Andy_Hunt_(author)"&gt;Andrew Hunt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Coupling_(computer_programming)"&gt;Coupling (computer programming)&lt;/a&gt; (Wikipedia article)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Cohesion_(computer_science)"&gt;Cohesion (computer science)&lt;/a&gt; (Wikipedia article)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Fallacies_of_distributed_computing"&gt;Fallacies of distributed computing&lt;/a&gt; (Wikipedia article)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.infoworld.com/article/3114195/system-management/the-8-fallacies-of-distributed-computing-are-becoming-irrelevant.html"&gt;The 8 fallacies of distributed computing are becoming irrelevant&lt;/a&gt; build your own opinion, are they?, comment!.&lt;/li&gt;
&lt;/ul&gt;</content><category term="Blog"></category><category term="software engineering"></category><category term="microservices"></category></entry><entry><title>Making django scale Pt.1</title><link href="//iffm.me/making-django-scale-pt1.html" rel="alternate"></link><published>2017-09-24T00:00:00+04:00</published><updated>2017-09-24T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2017-09-24:/making-django-scale-pt1.html</id><summary type="html">&lt;p&gt;I gave a talk on PyConPL this year about scaling django, obviously on a 35min talk you don't have enough
time to outline all the strategies and go deeper, so I thought it might be a cool idea to write a series
of blog posts  about this topic, not only …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I gave a talk on PyConPL this year about scaling django, obviously on a 35min talk you don't have enough
time to outline all the strategies and go deeper, so I thought it might be a cool idea to write a series
of blog posts  about this topic, not only to help someone who needs to optimize his django app, but also
to help myself have it for future reference.&lt;/p&gt;
&lt;p&gt;There are a lot of django apps out there, in most cases the default setup and basic deployment strategy
would be fine, and your application will perform OK, but in some cases you will need to make it scale
to serve thousands or millions of requests per day. There's no recipe for optimization or scalability,
but there are a lot of technology or stack agnostic strategies you can use to make your systems scale
well, here I'll show how to implement them with django.&lt;/p&gt;
&lt;h2&gt;Basic concepts&lt;/h2&gt;
&lt;p&gt;First things first, we need to have clear and solid concepts in mind, we use these words on a daily basis
if we're Software Engineers but when we need to say what they mean we sometimes struggle, so, I'll write
them down here for future reference.&lt;/p&gt;
&lt;h3&gt;Scalability&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Scalability is the capability of a system or process to handle a growing amount of work or its potential
to be enlarged to accommodate it
- Wikipedia&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;What this means is the amount of work processed by a system must grow in proportion to how much it is enlarged,
for example, if I have a cashier at a bank, and that cashier is able to serve 10 people per minute, if I add one
more cashier to my system, it should be able to serve rightly 20 people per minute depending on the training of
the other cashier and some other conditions. Luckily, servers are more homogenize than people's abilities, 
for servers or applications, if I have a service that handles 1000 requests per minute, if I add another 
instance of the same service I should be able to handle 2000 requests per minute.&lt;/p&gt;
&lt;h3&gt;Performance&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;Computer performance&lt;/em&gt; is the amount of work accomplished by a computer system.
- Wikipedia&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You usually want to measure performance by some metric, for example:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Response time:&lt;/em&gt; which you want to minimize&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Throughput:&lt;/em&gt; throughput is the rate of processing work, this one you want to maximize&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Resource utilization:&lt;/em&gt; which you want to minimize, you want to accomplish more with less&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Availability:&lt;/em&gt; you want to maximize your uptime&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The performance metrics are relative to the type of system you're building, for web applications
you usually go for low response time and high throughput.&lt;/p&gt;
&lt;h3&gt;Pareto principle&lt;/h3&gt;
&lt;p&gt;This isn't actually a concept, but it is incredible how things always turn out like this. The Pareto
principle states what follows:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For many events, roughly 80% of the effects come from 20% of the causes&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For example, 80% of the work will be done in 20% of the time, the other 80% will be spent on small issues
or small tangential work not directly related to the main objective. 80% of the bugs is caused by 20% of the
code and, in this case, 80% of the performance impact is caused by 20% of the issues.&lt;/p&gt;
&lt;p&gt;This is interesting because it makes you see that not all issues affect your system's performance the same way,
there are some issues that are more serious and not necessarily the same issue on a different project will impact
it the same way. Find that 20% and gain an 80% on performance, sounds easy, right?, but it isn't.&lt;/p&gt;
&lt;h3&gt;Takeaways&lt;/h3&gt;
&lt;p&gt;As a Software Engineer, sometimes I become so obsessed about performance I sometimes write things &lt;em&gt;already optimized&lt;/em&gt;,
this is a big fallacy and a huge mistake, premature optimization is bad because you don't know if what you're doing
is actually going to have a significative impact on your system's performance, blind optimization is worse, because
you might have some ways to get data or an insight on how your program is running but you're just too naive or lazy
to go get it.&lt;/p&gt;
&lt;p&gt;In the following posts, I'll recommend some tools to measure and later on some strategies to make your django site scale,
so, what you'll see in part 2 will be a set of tools to monitor your app's health.&lt;/p&gt;
&lt;p&gt;Don't forget to subscribe! I rarely send emails but when I do, It's interesting, I promise.&lt;/p&gt;</content><category term="Blog"></category><category term="python"></category><category term="django"></category><category term="scaling"></category></entry><entry><title>PyConPL 2017</title><link href="//iffm.me/pyconpl-2017.html" rel="alternate"></link><published>2017-09-01T00:00:00+04:00</published><updated>2017-09-01T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2017-09-01:/pyconpl-2017.html</id><summary type="html">&lt;p&gt;Two of my personal goals for this year were:&lt;/p&gt;
&lt;p&gt;1.- To speak at a local meetup here in Dubai&lt;/p&gt;
&lt;p&gt;2.- To speak at a bigger conference, anywhere&lt;/p&gt;
&lt;p&gt;Thanks to my wife, who is always supporting me much more than I support her, I could do
both, first one was at …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Two of my personal goals for this year were:&lt;/p&gt;
&lt;p&gt;1.- To speak at a local meetup here in Dubai&lt;/p&gt;
&lt;p&gt;2.- To speak at a bigger conference, anywhere&lt;/p&gt;
&lt;p&gt;Thanks to my wife, who is always supporting me much more than I support her, I could do
both, first one was at &lt;a href="https://www.meetup.com/Dubytes/"&gt;Dubytes&lt;/a&gt;, also, thanks to my colleague
&lt;a href="https://twitter.com/dareenalhiyari?lang=en"&gt;Dareen Alhiyari&lt;/a&gt; who runs that meetup group.&lt;/p&gt;
&lt;p&gt;The second one was at &lt;a href="https://pl.pycon.org/2017/index_en.html"&gt;PyCon Poland&lt;/a&gt;, this year (2017),
my talk &lt;a href="https://speakerdeck.com/iferminm/django-in-the-real-world"&gt;django in the real world&lt;/a&gt; was
accepted and my employer, &lt;a href="https://uae.dubizzle.com/"&gt;dubizzle&lt;/a&gt;, sponsored my trip there.&lt;/p&gt;
&lt;p&gt;My experience in Poland was great so far, the conference was at &lt;a href="http://www.hotelossa.pl/en/"&gt;huge beautiful venue&lt;/a&gt; 
one hour away from Warsaw, so I arrived one day before so I could walk around Warsaw and see some
historic and touristic places, &lt;a href="https://goo.gl/photos/pyRveSzZ6wAQQwnE6"&gt;the old town is beautiful&lt;/a&gt;,
and that was pretty much all I could see, didn't have time to do any museum before
going to &lt;a href="https://en.wikipedia.org/wiki/Arkadia_(shopping_mall)"&gt;Arkadia&lt;/a&gt; do to some shopping,
for my wife and my daughter.&lt;/p&gt;
&lt;p&gt;Public transportation is quite straightforward, the only issue is you have to ask people to write down
things if you ask for directions, everything is in Polish and it's not pronounced the same way as
written, with some time you get it, but I ended up asking people to write it for me the first day.
People were really helpful, every time I struggled with any of the ticket vending machines, someone
jumped in and helped, even if they didn't speak too much English, they did their best to understand
and help.&lt;/p&gt;
&lt;p&gt;I finished all my shopping and touristing by 22:30, so I headed to the hotel, which was just in front
of the airport, at the other side of Warsaw, I took the Tram, walked a bit to the main bus station
(I think) and waited for the 175 bus heading to Chopin Airport, at the station I had to use my
Latino defensive skills, some drunk guy tried to steal my wallet, I was carrying a lot of bags, I
was obviously a tourist, but you just don't try to steal something from a South American without at 
least a knife.&lt;/p&gt;
&lt;p&gt;I arrived at the Hotel by 23:30, tired, took a bath and went to sleep.&lt;/p&gt;
&lt;h2&gt;Getting to the conference&lt;/h2&gt;
&lt;p&gt;I packed all my stuff, checked out from the hotel after breakfast and headed to the meeting point
at Chopin Airport, conference attendees started to crowd and I started to talk to random people, 
dubizzle asked me to recruit so, I started to try out my skills talking to people, asking what
they do with Python and speaking about what we do and how we do it at dubizzle, some people looked
excited when I talked about employment opportunities, some others not so much, apparently the hot
weather in summer is a deal breaker, the bus arrived, I checked in with the organizers and
boarded, it was a roughly 1hr trip to the venue.&lt;/p&gt;
&lt;h2&gt;The Conference&lt;/h2&gt;
&lt;p&gt;Experiencing a conference as a speaker and as a normal attendee, is almost the same, as a speaker
people asks you much more questions about what you do and about what you will talk about, I spoke
to a lot of people with the intention of recruiting them, I was impressed about how well prepared
most people were, they had master degrees or pursuing PhD studies, academic titles mean nothing nowadays,
but they do tell you that the person takes care and time on improving himself and gaining more knowledge.&lt;/p&gt;
&lt;p&gt;It was very well organized, and there was always someone from the organizing team available to help
and to answer questions. People were also impressed about the fact that I went all the way from Dubai
to speak at their conference, I was humbled and honored to be there to be honest.&lt;/p&gt;
&lt;p&gt;During the conference I was more into talking to people, I did attend to some talks, but my main
focus was networking and getting people into applying to work at dubizzle or sending me their CV.&lt;/p&gt;
&lt;h2&gt;My Talk&lt;/h2&gt;
&lt;p&gt;I'd say it was great, I got a lot of questions, which is a good sign, if you get no questions it means
that people were either not listening or did not understand a single word.&lt;/p&gt;
&lt;p&gt;I'm waiting for them to upload the videos from the talks to watch how I really did and some other talks
I was interested in but couldn't attend.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;I really liked the experience, I would definitely encourage everyone to apply to speak at this kind of
conferences, I'll apply to speak at PyConPL next year for sure and will take my family as well, Warsaw
is a beautiful city, full of history and nice people. Will come back for sure!.&lt;/p&gt;
&lt;p&gt;Also, if you're looking for a job and would like to relocate to Dubai, have a look &lt;a href="http://blog.dubizzle.com/uae/job-vacancies/"&gt;here&lt;/a&gt;
at the open positions and leave me a comment, we can talk about it.&lt;/p&gt;</content><category term="Blog"></category><category term="personal"></category><category term="speaking"></category><category term="pycon"></category></entry><entry><title>Working at dubizzle</title><link href="//iffm.me/working-at-dubizzle.html" rel="alternate"></link><published>2017-08-16T00:00:00+04:00</published><updated>2017-08-16T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2017-08-16:/working-at-dubizzle.html</id><summary type="html">&lt;p&gt;About 4 years ago I got an email through StackOverflow Careers from a woman called
Claudia Verlinden, a very nice Belgian lady who happened to be an HR Manager at a company
in the middle east and she was looking for Software Engineers with experience in Python and
django, so …&lt;/p&gt;</summary><content type="html">&lt;p&gt;About 4 years ago I got an email through StackOverflow Careers from a woman called
Claudia Verlinden, a very nice Belgian lady who happened to be an HR Manager at a company
in the middle east and she was looking for Software Engineers with experience in Python and
django, so, she asked me if I was interested in applying to one of their open positions
in their Engineering team, I said yes and 2 months later I was boarding a plane and landing
in Dubai, yes Dubai.&lt;/p&gt;
&lt;h2&gt;My Dubai experience&lt;/h2&gt;
&lt;p&gt;There is a lot of taboo in the west side of the world about the Middle East region, specially
about Arabs, Muslims and Islam in general, they speak a lot about terrorism and how everyone
in the Middle East is a potential terrorist, how Arabs have no sense of humor and they're angry
all the time. Well, I'm here to tell you that none of that is true.&lt;/p&gt;
&lt;p&gt;So far, after living almost 4 years in Dubai, a Muslim country, my experience had been nothing
but positive from almost every perspective (still don't like the weather in August), there's
people from everywhere in the world, from countries I didn't know were countries and you get
to see people whose countries had been in war, working together like the best friends in the world.&lt;/p&gt;
&lt;p&gt;Dubai is one of the safest cities in the world and for me, coming from Caracas, one of the
most violent cities in the world, that's very important. You'll never see a gun if it isn't on
a Policeman's belt, no one will break into your house or car to take that cellphone you left there
or that purse with your documents in the back seat, more important, if you leave something at some
place, even in the street, there's a high chance it will still be there when you're back. &lt;/p&gt;
&lt;p&gt;My wife has left her iPhone in restaurants, hospitals and stores more times than I can remember and each and
every time we got it back the same day, they even called me once to tell me "hey, I believe someone you
know left her phone in my store, it's a pink iPhone, anyone you know has a pink iPhone with a Hello Kitty
cover?", yes... that's my wife's.&lt;/p&gt;
&lt;p&gt;Despite the heat in summer, which can reach over 50C by August, there are a lot of things to do as a single
or with your family, museums, restaurants, bars, beaches, hiking, desert camping and BBQ, you name it, even
indoors Skying at Sky Dubai in Mall of the Emirates. I'm a declared foodie (I married a chef), and one of
the things I like the most is the huge variety of gastronomy you can find, from Arabic to Russian food, American
burger joints, Asian Cuisine and even Latin restaurants, some Peruvian, Colombian, Argentinean and there's even a Food Truck
serving Arepas and a lot of Venezuelan stuff.&lt;/p&gt;
&lt;p&gt;Arabs have such an amazing sense of humor, they even joke about bombs and having terrorist cousins,
they get American jokes and they like Jeff Dunham!, they're pretty much like Latinos, they like to
laugh a lot and they're loyal friends, if they can help you in any way, you can be certain they will.
But it needs to work the other way around as well, if they need your help, they will expect you to
help them if it's on your hands, but that's what friendship should be about, right?, relying on each
other.&lt;/p&gt;
&lt;p&gt;Something I realized when I moved here is that not all Arabs are Muslims and not all Muslims are Arabs,
Islam is a wide spread religion in this region, so most Pakistanis, some Indians, also some Filipinos,
Bosnian, and people from the *stan countries are Muslims and they're not Arabs, but also there are a lot
of Catholics and Christians in Lebanon, which is an Arab country, and also in India and Egypt.&lt;/p&gt;
&lt;p&gt;UAE, and specially Dubai is super liberal to be an Islamic country, you get to see everything, from women
wearing the traditional Abaya and Niqab or Hijab, to women wearing &lt;em&gt;almost&lt;/em&gt; nothing and people is ok with
that. Alcohol is forbidden in Islam, so, it's a bit harder to get, which doesn't mean is hard. Only Muslims
are not allowed to drink, rest of people can get an Alcohol License which will allow you to purchase anything
you want in the authorized stores, if you don't want to get into the (easy) paperwork to get the license, you
can always go have some drinks at a bar or restaurant in a hotel. This was the most shocking change for me as
a Latino, I can't buy beers or rum freely at the supermarket.&lt;/p&gt;
&lt;p&gt;One last thing I love about Dubai, it's getting more and more like a science fiction movie, seriously,
I don't know why, but these guys ruling the country have a very futuristic vision. Tallest building
in the world (Burj Khalifa), artificial islands (Palm Jumeirah and the one Burj Al-Arab hotel is built on top
of), biggest shopping mall in the world (The Dubai Mall), they are testing flying taxis already and
there's a project to build a Hyperloop train, that will take you
from Dubai to Abu Dhabi in less than 20min, by bus or car it almost 2hr.&lt;/p&gt;
&lt;h2&gt;Working at dubizzle&lt;/h2&gt;
&lt;p&gt;Working at a UAE based company, like dubizzle, comes with some perks. But working at one of the most
visited and recognized brands in the country is even better. First of all over 30 different nationalities
converge in the same workplace, different cultural backgrounds. British, Latinos, Indians, Arabs, Pakistanis,
Asians, Europeans, you name it, I sometimes joke with HR everytime I recommend someone from a country we don't have
yet saying "he's a new nationality for out list, we should just hire him to show off" so far we have people from
all of the 5 continents working at dubizzle.&lt;/p&gt;
&lt;p&gt;To have an idea of how big dubizzle is, we are now part of the OLX group and dubizzle was the only site within
the region that wasn't re-branded to OLX, we got to keep our name and identity because it was a so well established
brand that it would have been more expensive to re-brand it and rebuild it rather that just keep the same brand
as it is, also, we are the only company running a different stack, all of the OLX sites run on PHP, we run in
python and mostly django.&lt;/p&gt;
&lt;p&gt;Working at a place at this scale is great!, you get to solve very complex and interesting problems, such as optimizing
a service to reduce the response time, might be a caching problem or a database issue, you'll have to look
at the data and make a decision on where to start and you'll have complete freedom to get it done within
reasonable deadlines, of course. This is a very data-driven process, before we do anything we look at numbers,
either from an A/B test or one of our monitoring tools like newrelic and we start analyzing what's happening and
thinking how to approach the problem at hand, we sometimes need to build several proof of concepts and measure
to see what would be the best way to proceed.&lt;/p&gt;
&lt;p&gt;One thing I like the most is how everyone is involved on product decisions, like new features, design or workflow
changes, every idea needs to be presented as a spec, with some sort of numbers backing it, either an A/B test or
a market research, results from a poll, anything to back it idea, all the company is involved in these spec reviews:
Engineering, Customer Support, Sales, Finance, Marketing, Management, literally everyone who wants to attend can
do it. The specs are presented and everyone is encouraged to talk, criticize (in a constructive way), make suggestions,
agree, disagree, the idea is to improve the idea and take it from good to awesome or prevent us from building it
if someone finds a good point that proves the spec wrong or too expensive. Everyone has a voice and everyone's voice
is heard. Anyone can have an idea, spec it and take it to spec review, some of the features in our website came from
some engineer who thought it could work and wrote the spec along with the Product Manager and made it live.&lt;/p&gt;
&lt;p&gt;Also, as a new parent, flexibility is very important to me, dubizzle is by far one of the most flexible companies
I've worked at, working hours are from 9:00 to 18:00, but you don't need to be in at 9:00 sharp, strictly, if you
can't make it, either because of traffic or because life happened at home, dubizzle is a very goal-oriented workplace,
so, as long as you're in for your daily team stand-up (which starts by 9:45 - 10:00 in my case) or you message in advance
if you're going to be late, it's ok. But, you need to keep in mind that, sometimes, you'll need to make up some time if
your project is getting late and will miss the deadline. I've had to leave early because my wife or my daughter were not
feeling well, had to take one week off in the middle of a sprint because all of us were sick, in bed, had to come in
late because I had to run some errands or take a whole day off to go to the Venezuelan Embassy in Abu Dhabi and I've never
got a no by an answer from my manager, they all know that unplanned issues happen, but, you need to plan for the ones
you know will happen, like visa or passport renewals, medical appointments and that kind of things so your team adds some
buffer time in the sprint, accounting for your time off.&lt;/p&gt;
&lt;p&gt;Being a dubizzler, also comes with some unexpected perks, as you might imagine already, my name is Israel, and it's
a FAQ in immigration all the time. So, first time I went out of the country and came back, I got a weird look from the
immigration officer and a "please, go to office number 2" as he handed me my passport back. And there I was, with a lot
of long bearded guys waiting for my turn and and Arab guy just calls my name "Israiil?" (which is Arabic for my name),
I approach the counter and the guy starts throwing Arabic to me, and I speak no Arabic, I don't know what he said, but
to me it sounded something like &lt;em&gt;hala mahala hammdulleh hamdu affek hal&lt;/em&gt; I replied with one of the few phrases I know in
Arabic &lt;em&gt;ana la atakalam al-arabiia&lt;/em&gt; which means "I don't speak Arabic", the guy laughed and continued his Arabic monologue,
I had to interrupt him by saying "No, seriously, I don't speak Arabic". So, he started making a lot of routine questions,
"what's your full name?", "where are you from?", "how long are you planning to stay in the UAE?", "how long have you been
living in the UAE?", "where do you live?", "where do you work?", and then, the surprise came. "oh! you work at dubizzle,
it's ok, it's ok, I like dubizzle very much, take you passport, khalas... go, go go... it's ok". Everytime I say I work
at dubizzle, feels like I'm a rockstar and I didn't knew about it, at each and every hackathon or conference I've been to
in the UAE, working at dubizzle inspires some kind of respect, and I'm humbled every time it happens.&lt;/p&gt;
&lt;h3&gt;A day in the life&lt;/h3&gt;
&lt;p&gt;Working at dubizzle, a platform that operates at a huge scale, presents a lot of challenges as a Software Engineer. Everything
we write and deploy to production needs to be extensively tested, it needs to scale well and have proper monitoring and
alerting in place so in case something fails, we are informed by our systems and not by the Customer Support calling the 
on-call number saying an angry user is yelling because something is not working, we have a &lt;em&gt;users comes first&lt;/em&gt; kind of principles,
so everything we do is to give more value to the users and most of out tests are to research how the users are using
our platform and see how we can deliver more value to them.&lt;/p&gt;
&lt;p&gt;Nowadays, we are migrating the whole platform to a microservices oriented architecture, so, most of today's challenges
are in two fronts:&lt;/p&gt;
&lt;p&gt;1.- Breaking out a legacy monolith into independent, scalable, deployable, and testable services&lt;/p&gt;
&lt;p&gt;2.- Building those microservices while keeping a rollback option in case of something horrible happening&lt;/p&gt;
&lt;p&gt;Now, we are not facing that dilemma of "should this be a different package?", now it's more "where should I build this?",
we try to keep our services from doing more than one thing, simplicity is the main value now, so far, we've deployed over 70
services and we continue to break the monolith into smaller units, all powered by python and django for our backends and react for
our frontend, running on top of AWS. Does this sound like a place you would like to work at? leave me a comment! and we can talk about it.&lt;/p&gt;</content><category term="Blog"></category><category term="personal"></category><category term="career"></category><category term="middle east"></category><category term="dubizzle"></category></entry><entry><title>PyCon: Challenge Accepted</title><link href="//iffm.me/pycon-challenge-accepted.html" rel="alternate"></link><published>2017-08-01T00:00:00+04:00</published><updated>2017-08-01T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2017-08-01:/pycon-challenge-accepted.html</id><summary type="html">&lt;p&gt;Everyone who has known me long enough, knows that I'm a huge fan of Python programming language,
for several reasons, ease of use, ease of learning, the huge amount of libraries, frameworks and
packages in general available in PyPI, it's not perfect but it has become my tool of choice …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Everyone who has known me long enough, knows that I'm a huge fan of Python programming language,
for several reasons, ease of use, ease of learning, the huge amount of libraries, frameworks and
packages in general available in PyPI, it's not perfect but it has become my tool of choice for
most of my problem solving writing software and career choice, I've been working writing python
code ever since my internship in 2011 and even organized the first and, so far, only PyCon edition
in my home country (Venezuela)&lt;/p&gt;
&lt;p&gt;Ever since I organized PyConVE 2012, I was a bit disappointed I had so much stuff to do and handle
for the conference that I didn't have time to speak myself, give a talk or a workshop at the conference
I organized, so, it was on my checklist to speak at a PyCon as a personal goal and kind of a dream,
that's the biggest Python event a local community organizes in their country so it's quite a big deal
for Pythonistas.&lt;/p&gt;
&lt;p&gt;This year, I applied to speak at several Pycons, first I applies to PyCon Australia, I got denied but
they provided a great feedback on how to properly write talk proposals to PyCon (thanks a lot guys!).
So, I decided to apply to PyCon Poland, PyCon Spain and PyCon South Africa.&lt;/p&gt;
&lt;p&gt;I'm honored and pleased that my talk &lt;strong&gt;django in the real world&lt;/strong&gt; was accepted in PyCon Poland and also
in PyCon Spain. I'm still waiting for news from South Africa. I will for sure share my experience in both
conferences, I'm so excited and thankful with my employer, dubizzle, for sponsoring my trip to the conference,
with the organizers for this huge opportunity and specially with my wife because she won't be able to go
with me and she's spending almost one week alone with our baby.&lt;/p&gt;</content><category term="Blog"></category><category term="personal"></category><category term="speaking"></category><category term="pycon"></category></entry><entry><title>Classy Tasks with Celery</title><link href="//iffm.me/classy-tasks-with-celery.html" rel="alternate"></link><published>2017-03-23T00:00:00+04:00</published><updated>2017-03-23T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2017-03-23:/classy-tasks-with-celery.html</id><summary type="html">&lt;p&gt;This will be a short article, I just want to share something I learned this week.&lt;/p&gt;
&lt;p&gt;If you work with &lt;em&gt;Python&lt;/em&gt; and chances are you've ran into &lt;em&gt;celery&lt;/em&gt; at least once, hopefully more than once, depending on how complex the projects
you've worked on are.&lt;/p&gt;
&lt;p&gt;If you don't know it …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This will be a short article, I just want to share something I learned this week.&lt;/p&gt;
&lt;p&gt;If you work with &lt;em&gt;Python&lt;/em&gt; and chances are you've ran into &lt;em&gt;celery&lt;/em&gt; at least once, hopefully more than once, depending on how complex the projects
you've worked on are.&lt;/p&gt;
&lt;p&gt;If you don't know it yet, &lt;em&gt;Celery&lt;/em&gt; is a task scheduling library that lets you schedule heavy tasks to be ran later, for example, resizing an image, sending an email or posting data to a 3rd party service, those are things that can be done &lt;em&gt;later&lt;/em&gt; so you don't have to keep your users waiting online for something to finish and could actually fail.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Celery&lt;/em&gt; lets you &lt;code&gt;delay&lt;/code&gt; the execution of those tasks and put retry policies in place so you can re-run them after a given time under certain conditions, for example, a 3rd party service returned &lt;code&gt;500&lt;/code&gt; or &lt;code&gt;502&lt;/code&gt;, you might want to retry after, let's say, 20min to see if the issue is gone.&lt;/p&gt;
&lt;p&gt;This won't be an in depth tutorial, you can check &lt;em&gt;Celery&lt;/em&gt; &lt;a href="http://docs.celeryproject.org/en"&gt;here&lt;/a&gt; if you don't know it yet.&lt;/p&gt;
&lt;p&gt;Let's see this example in &lt;em&gt;Flask&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nd"&gt;@app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;process_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image_url&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;download_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image_url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;resized&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;resize_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;upload_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;resized&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Failure, please try again&amp;#39;&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Success&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This is a very basic example, full of bad practices and code like this shouldn't be pushed to production but it serves to illustrate what I need to explain.&lt;/p&gt;
&lt;p&gt;Normally, what you might do is just call those three functions inside a task and just call the &lt;code&gt;task.delay()&lt;/code&gt; from the request handler, something like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nd"&gt;@app&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;route&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;process_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image_url&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;tasks&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;process_image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;delay&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image_url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Success&amp;#39;&lt;/span&gt;

&lt;span class="c1"&gt;# tasks.py&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;celery.task&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;task&lt;/span&gt;

&lt;span class="nd"&gt;@task&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;process_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image_url&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;download_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image_url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;resized&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;resize_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;upload_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;resized&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;But, those three functions are not supposed to be called synchronously, so, I don't want them laying in some module waiting for someone to call them outside a task. Reason being that, as said before, these are heavy processes that might keep my web server busy and prevent it from taking new requests for a while and also keep my users waiting on a &lt;em&gt;loading&lt;/em&gt; screen for a long time, which isn't a good user experience.&lt;/p&gt;
&lt;p&gt;I could delete them and copy all the code in my task function but it will lead to a potentially long function which will do a lot of things, it will be difficult to read and difficult to maintain, so... bad idea.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Celery&lt;/em&gt;'s &lt;code&gt;@task&lt;/code&gt; decorator, actually works as an object factory of &lt;code&gt;Task&lt;/code&gt; objects, and what it does is, it puts the decorated function in the &lt;code&gt;run()&lt;/code&gt; method, so, I could take advantage of the object oriented paradigm to encapsulate all that logic inside a task avoiding the risk of having those functions called synchronously.&lt;/p&gt;
&lt;p&gt;It would look something like this&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;celery&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Task&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ProcessImage&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Task&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;ignore_result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;image_url&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;download_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image_url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;resized&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;resize_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;upload_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;resized&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;download_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image_url&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="c1"&gt;# Code to download the image from a given url&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;resize_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="c1"&gt;# Code to resize the image&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;upload_image&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="c1"&gt;# Code to upload an image to a certain location&lt;/span&gt;


&lt;span class="c1"&gt;# We need an instance we can call delay() on&lt;/span&gt;
&lt;span class="n"&gt;process_image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ProcessImage&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And done, we can implement also a notification logic to inform the user if there's any issue processing the image after retrying and that kind of
things, but I'll leave that for another post.&lt;/p&gt;
&lt;p&gt;By doing a &lt;em&gt;class based task&lt;/em&gt; for complex background jobs, we can produce cleaner code which is easier to maintain and to read and keep those heavy tasks encapsulated so no one calls them directly from a controller or a django view.&lt;/p&gt;
&lt;p&gt;I know this is not the best way to implement this use case, we could have done it with a &lt;code&gt;TaskTree&lt;/code&gt; or with callbacks, but I wanted to show how to use classes to define tasks. I'll explain those approaches in future posts. :-)&lt;/p&gt;</content><category term="Blog"></category><category term="python"></category><category term="programming"></category><category term="celery"></category></entry><entry><title>The evilness of None!</title><link href="//iffm.me/the-evilness-of-none.html" rel="alternate"></link><published>2017-03-13T00:00:00+04:00</published><updated>2017-03-13T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2017-03-13:/the-evilness-of-none.html</id><summary type="html">&lt;p&gt;Recently at work, i was solving one bug on one of our services, it was popping up in newrelic at least 9 times a week, this is one of the services we use in the monetization process at the office, so, it's a critical one, the least errors we 
see …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Recently at work, i was solving one bug on one of our services, it was popping up in newrelic at least 9 times a week, this is one of the services we use in the monetization process at the office, so, it's a critical one, the least errors we 
see in newrelic for this service, the better.&lt;/p&gt;
&lt;p&gt;The error looked a bit like a nonsense, basically some user's subscriptions were coming as &lt;code&gt;null&lt;/code&gt; values or &lt;code&gt;None&lt;/code&gt;, in Python.&lt;/p&gt;
&lt;p&gt;Debugging the code and tracing the logs I found the like where it was failing and it looked something like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;subscription&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_oldest_subscription_for_addon&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;addon_id&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;package&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;subscription&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;package&lt;/span&gt;  &lt;span class="c1"&gt;# This was the failing line&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The method says it returns a &lt;code&gt;subscription&lt;/code&gt; object, but it's returning &lt;code&gt;None&lt;/code&gt;, why?&lt;/p&gt;
&lt;p&gt;I digged deeper and opened the &lt;code&gt;models.py&lt;/code&gt; file I searched for the method's name and bingo! I got it!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    &lt;span class="c1"&gt;# ...&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_oldest_subscription_for_addon&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;addon_id&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;subscriptions&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_active_subscriptions&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;order_by&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;created&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;subscription&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;subscriptions&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;subscription&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;addon_credits_left&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;addon_id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;subscription&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And... that's where the &lt;code&gt;None&lt;/code&gt; is coming from...&lt;/p&gt;
&lt;h2&gt;What's wrong about this?&lt;/h2&gt;
&lt;p&gt;I'm sure we all have written similar pieces of code, search for something meeting certain conditions and, if we get nothing, &lt;code&gt;return null&lt;/code&gt; or, &lt;code&gt;nil&lt;/code&gt; or &lt;code&gt;None&lt;/code&gt; or whatever you call it in your language of choice. And it's wrong in so many ways.&lt;/p&gt;
&lt;p&gt;Truth is, &lt;a href="https://en.wikipedia.org/wiki/Tony_Hoare"&gt;Tony Hoare&lt;/a&gt; , the creator of the Null instance while he was developing the type system for ALGOL, called it his &lt;em&gt;billion-dollar mistake&lt;/em&gt;. I'm sure this bug affected our revenue in some way, maybe the impact wasn't that much because it was in some cases when a user was going to highlight his publication (feature an ad, in dubizzle lingo) and... yes, we were giving away free highlights because of this bug.&lt;/p&gt;
&lt;p&gt;Returning &lt;code&gt;null&lt;/code&gt; or &lt;code&gt;None&lt;/code&gt; is usually a way to handle a case when we didn't find what we were looking for and it leads us to check for the result after calling the function which causes a bifurcation in the program flow, yes, it generates a different execution path which gives us one more place to introduce bugs or to check for errors. And we have to do this every time we call that function or method.&lt;/p&gt;
&lt;p&gt;Now, imagine we call that function 500 times within the program, it will generate 1000 branches, 500 when we found what we were looking for and other 500 where we returned &lt;code&gt;None&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Since i read &lt;em&gt;Clean Code&lt;/em&gt; by Robert Martin, I try to keep in mind the key principles of what we call &lt;strong&gt;clean code&lt;/strong&gt;. Everything from naming to design patterns, single responsibility principle, the newspaper principle, keeping things as short and simple as possible, doing one thing and one thing only on every entity of our program (classes, functions, variables, etc) and also the &lt;a href="https://www.python.org/dev/peps/pep-0020/"&gt;Zen of Python&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;How can we make it right?&lt;/h2&gt;
&lt;p&gt;One of the principles shown in &lt;em&gt;Clean Code&lt;/em&gt; has to do with naming. All names should be intuitive, it should describe in few words what the &lt;code&gt;class&lt;/code&gt; is, what the method does or what the attribute or variable holds. No matter how long the name is, with some limits and without exaggerating or being too verbose, which takes me to the second principle I'm going to talk about, &lt;em&gt;A function must perform one and only one action&lt;/em&gt;, so, if a method should return a &lt;code&gt;subscription&lt;/code&gt; object, it must always return a &lt;code&gt;subscription&lt;/code&gt; object. If we stick to these two rules, the name of our functions should intuitive, because it will describe the action, and short enough because it will do only one thing.&lt;/p&gt;
&lt;p&gt;This is also a good way to diagnose if I'm writing good code, whenever I'm naming a function and I'm being forced by rule number 1 to add an &lt;em&gt;and&lt;/em&gt; or an &lt;em&gt;or&lt;/em&gt; to the name of the function, I'm probably breaking rule number 2.&lt;/p&gt;
&lt;p&gt;With some exceptions, for example, some functions could take a different course of action under certain conditions for a very good reason, for example, django's &lt;code&gt;get_object_or_404()&lt;/code&gt; shortcut, and also manager methods &lt;code&gt;get_or_create()&lt;/code&gt; and &lt;code&gt;update_or_create()&lt;/code&gt; are keeping us from taking care of very common web  application and databases flows like returning 404 if we don't find an object, creating an object if it's not there yet and it has to be or performing an upsert operation.&lt;/p&gt;
&lt;p&gt;This could lead to long names sometimes but nowadays we have auto-completion tools and flexible line length rules (even PEP8 is flexible about the 79 characters line length) so i don't think it's too much of a big deal.&lt;/p&gt;
&lt;h2&gt;How can we avoid this?&lt;/h2&gt;
&lt;p&gt;There are several ways we could have avoided this, some of them cleaner than others, let's see.&lt;/p&gt;
&lt;p&gt;1.- &lt;strong&gt;Docstring:&lt;/strong&gt; nowadays we use integrated development environments (IDE) and all of them provide some meta information about the objects in our code by hovering over the name, there are also plugins for most of the editors out there... vim, Emacs, sublime, atom you name it. By writing a proper docstring for that method, it will be picked up and shown as a tooltip by one of these tools, no matter which editor we use, if we have one of those code completion plugins, it will show up. This isn't too intuitive, and doesn't provide the information right away, you have to read the docstring somehow and, if you don't have a good code completion tool, you will still need to open the &lt;code&gt;models.py&lt;/code&gt; file and read what the code does. This option is probably the easiest one also the least clean one. &lt;/p&gt;
&lt;p&gt;2.- &lt;strong&gt;Correct naming:&lt;/strong&gt; Function should had been called &lt;code&gt;get_oldest_subscription_for_addon_or_none()&lt;/code&gt;, yes, name is too long, but at least the programmer using that function would be aware of the &lt;code&gt;return None&lt;/code&gt; behavior  while using that function without having to open the file that defines it. The length of the function name is not an issue if we have an auto-completion tool, but the main issue remains, the fact that we are returning &lt;code&gt;None&lt;/code&gt;, we shouldn't do that, still cleaner than option 1.&lt;/p&gt;
&lt;p&gt;3.- &lt;strong&gt;Raise an exception:&lt;/strong&gt;  the right way to handle this is to &lt;code&gt;raise&lt;/code&gt; an unchecked exception and and handle it. The method should return a &lt;code&gt;subscription&lt;/code&gt; object and it assumes it will find one and not being able to return one is an anomaly, so, we could raise an unchecked exception and handle it in the upper levels.&lt;/p&gt;
&lt;p&gt;4.- &lt;strong&gt;Null Object Pattern:&lt;/strong&gt; I don't know if it makes sense to implement such thing in Python, but there's a design pattern to take care of this kind of cases. Basically, you define an object that meets the same interface of the object you are expecting only that it's empty, this helps you continue with the same execution flow without any problem, you can read about it &lt;a href="https://en.wikipedia.org/wiki/Null_Object_pattern"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;What did I do?&lt;/h2&gt;
&lt;p&gt;I opted for option 2, although is not the cleanest one, because of the way the code was written it was the one that supposed less changes to the code. To be honest, the right refactor would be option 3.&lt;/p&gt;
&lt;p&gt;I just renamed the function and changed all of the invocations and moved that &lt;code&gt;package = subscription.package&lt;/code&gt; line below a check for the &lt;code&gt;subscription&lt;/code&gt; to exist that was already there. Committed, pushed and released the bug-fix and that was it. After that, i got curious about who wrote that code, so, i went back on git's history and ran a git blame.&lt;/p&gt;
&lt;p&gt;Surprise :) it was me :).&lt;/p&gt;
&lt;p&gt;I'll refactor it the right way soon.&lt;/p&gt;</content><category term="Blog"></category><category term="programming"></category><category term="python"></category></entry><entry><title>New Grads Survival Guide</title><link href="//iffm.me/new-grads-survival-guide.html" rel="alternate"></link><published>2016-03-25T00:00:00+04:00</published><updated>2016-03-25T00:00:00+04:00</updated><author><name>Israel Fermín Montilla</name></author><id>tag:iffm.me,2016-03-25:/new-grads-survival-guide.html</id><summary type="html">&lt;p&gt;OK, OK... I'm sorry, I lied on the title, but please, don't stop
reading. I know... I know, we started bad our relationship already but,
I can explain it, I swear.&lt;/p&gt;
&lt;p&gt;Yes, it says "survival guide", but it's not like that, I'm not going to
tell you a recipe to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;OK, OK... I'm sorry, I lied on the title, but please, don't stop
reading. I know... I know, we started bad our relationship already but,
I can explain it, I swear.&lt;/p&gt;
&lt;p&gt;Yes, it says "survival guide", but it's not like that, I'm not going to
tell you a recipe to get the job you want, in the company you like and
the country you dream, that's impossible, as programmer we all know
there is no silver bullet, and it applies not only on software, also in
day by day life problems.&lt;/p&gt;
&lt;p&gt;What I'm going to share with you, is what worked and still working for
me, let me give you some context. I'm a 29 years old Computer Engineer
from Venezuela, yes, I know... we're famous for good baseball players,
beautiful women and, most recently and sadly, thanks to this guy.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Hugo Chávez, worst Venezuelan
president..." src="https://dl.dropboxusercontent.com/s/8v0mswsxcdii5pd/chavez.jpg"&gt;&lt;/p&gt;
&lt;p&gt;And this other guy...&lt;/p&gt;
&lt;p&gt;&lt;img alt="Nicolás Maduro... even worse that
Chávez" src="https://dl.dropboxusercontent.com/s/2yqy0xbwldnwth4/maduro.jpg"&gt;&lt;/p&gt;
&lt;p&gt;My country is, obviously, a 3rd world country, we're facing huge and
very serious economic and political issues and it's quickly getting
worse thanks to those guys, my family is not rich so I couldn't travel
or go to another country to study until things get better and, by now,
I'm living in Dubai, paying my rent and brought my wife abroad so we
have some hope of having the quality of life we dreamed together, how I
did it?, my job is my flight ticket and my passport.&lt;/p&gt;
&lt;p&gt;I managed to get out of Caracas, one of the most violent and dangerous
cities in the world, and come to Dubai 2 years ago. Obviously this
wasn't with money from my own pocket, a local company hired me and
covered my relocation expenses. I'm going to share with you some things
I did and still doing, this is not guaranteed to give you the job you
want, but certainly will help you increase your chances.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Set up a decent LinkedIn profile:&lt;/em&gt; no joke, this helps, a lot of
    recruiters and companies in LinkedIn, don't underestimate that tool,
    it's really powerful and you don't need to pay for the pro or
    premium version. A good LinkedIn profile includes a picture, a
    description of each job you had, and by description I mean
    responsibilities and key achievements and responsibilities in
    that position.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Have a public GitHub account:&lt;/em&gt; and actually &lt;em&gt;use it!&lt;/em&gt;, I'm not
    telling you to contribute to a lot of open source projects or to
    start yet another social auth library, just experiment with new
    tools, build some cool hello-world style projects and upload the
    code to GitHub, this will show that you're actively learning new
    stuff all the time.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Have a StackOverflow account:&lt;/em&gt; and, again, &lt;em&gt;use it&lt;/em&gt;, answer some
    questions and ask some questions, it's useful and it will help you,
    trust me.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Be passionate:&lt;/em&gt; love your career, you studied it for a reason.
    Learn new stuff, experiment with a new language or framework, show
    everybody the cool stuff you're working on, get ideas from other
    people and learn from them.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Be pragmatic:&lt;/em&gt; yes, when it comes to work, you have to let your
    knowledge and logic guide your decisions, not your emotions.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Choose your weapon:&lt;/em&gt; and do it early, it's good to be versatile,
    you're a programmer, not a user of a programming language. But you
    need a battle ax, the one that helps you solve any problem faster
    and you feel more comfortable with.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And finally, the one I consider the most important.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Choose your first job carefully:&lt;/em&gt; yes, I mean it, don't let the job
    choose you, you have to enjoy your job because it's where you will
    spend most of the day and, trust me, your first job will define your
    career. If you start developing J2EE applications, people will hire
    you to do so, because that's the experience you have. Don't be
    afraid to say no to an offer you're not totally convinced of taking.
    In my case, when I was looking for an internship, I turned down an
    offer from Microsoft in Venezuela because I've always been an Open
    Source enthusiast and a Linux user, I didn't found myself
    programming in ASP.NET, I decided to take an offer from Vauxoo, a
    local small company that developed open source modules for OpenERP
    (now Odoo) and I'm very happy I took that road, I learned Python in
    that job, which is my battle ax and my main tool by today.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So... yeah!, not a recipe, but some tips I hope will help you on your
first years as a professional.&lt;/p&gt;</content><category term="Blog"></category><category term="career"></category></entry></feed>